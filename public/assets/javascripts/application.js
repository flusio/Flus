(()=>{var Ha=Object.create;var ii=Object.defineProperty;var ja=Object.getOwnPropertyDescriptor;var Va=Object.getOwnPropertyNames;var $a=Object.getPrototypeOf,Ua=Object.prototype.hasOwnProperty;var h=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var za=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Va(e))!Ua.call(r,i)&&i!==t&&ii(r,i,{get:()=>e[i],enumerable:!(s=ja(e,i))||s.enumerable});return r};var X=(r,e,t)=>(t=r!=null?Ha($a(r)):{},za(e||!r||!r.__esModule?ii(t,"default",{value:r,enumerable:!0}):t,r));var Ji=h((Uf,Gi)=>{"use strict";Gi.exports=()=>{let r="\\ud800-\\udfff",o="\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff"+"\\u1ab0-\\u1aff"+"\\u1dc0-\\u1dff",u="\\ufe0e\\ufe0f",p="\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93",A=`[${r}]`,k=`[${o}]`,x="\\ud83c[\\udffb-\\udfff]",b=`(?:${k}|${x})`,E=`[^${r}]`,g="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",T="[\\ud800-\\udbff][\\udc00-\\udfff]",C="\\u200d",y="(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)",c=`[${p}]`,m=`${b}?`,a=`[${u}]?`,l=`(?:${C}(?:${[E,g,T].join("|")})${a+m})*`,d=a+m+l,v=`(?:${[`${E}${k}?`,k,g,T,A,c].join("|")})`;return new RegExp(`${y}|${x}(?=${x})|${v+d}`,"g")}});var Qi=h(z=>{"use strict";var eu=z&&z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(z,"__esModule",{value:!0});var Ot=eu(Ji());function ys(r){if(typeof r!="string")throw new Error("A string is expected as input");return r.match(Ot.default())||[]}z.toArray=ys;function ws(r){if(typeof r!="string")throw new Error("Input must be a string");var e=r.match(Ot.default());return e===null?0:e.length}z.length=ws;function Xi(r,e,t){if(e===void 0&&(e=0),typeof r!="string")throw new Error("Input must be a string");(typeof e!="number"||e<0)&&(e=0),typeof t=="number"&&t<0&&(t=0);var s=r.match(Ot.default());return s?s.slice(e,t).join(""):""}z.substring=Xi;function tu(r,e,t){if(e===void 0&&(e=0),typeof r!="string")throw new Error("Input must be a string");var s=ws(r);if(typeof e!="number"&&(e=parseInt(e,10)),e>=s)return"";e<0&&(e+=s);var i;typeof t>"u"?i=s:(typeof t!="number"&&(t=parseInt(t,10)),i=t>=0?t+e:e);var n=r.match(Ot.default());return n?n.slice(e,i).join(""):""}z.substr=tu;function ru(r,e,t,s){if(e===void 0&&(e=16),t===void 0&&(t="#"),s===void 0&&(s="right"),typeof r!="string"||typeof e!="number")throw new Error("Invalid arguments specified");if(["left","right"].indexOf(s)===-1)throw new Error("Pad position should be either left or right");typeof t!="string"&&(t=String(t));var i=ws(r);if(i>e)return Xi(r,0,e);if(i<e){var n=t.repeat(e-i);return s==="left"?n+r:r+n}return r}z.limit=ru;function su(r,e,t){if(t===void 0&&(t=0),typeof r!="string")throw new Error("Input must be a string");if(r==="")return e===""?0:-1;t=Number(t),t=isNaN(t)?0:t,e=String(e);var s=ys(r);if(t>=s.length)return e===""?s.length:-1;if(e==="")return t;var i=ys(e),n=!1,o;for(o=t;o<s.length;o+=1){for(var u=0;u<i.length&&i[u]===s[o+u];)u+=1;if(u===i.length&&i[u-1]===s[o+u-1]){n=!0;break}}return n?o:-1}z.indexOf=su});var ee=h((Wf,Zi)=>{var iu=Zi.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=iu)});var qt=h((Kf,Yi)=>{var nu=Yi.exports={version:"2.6.12"};typeof __e=="number"&&(__e=nu)});var ae=h((Gf,en)=>{en.exports=function(r){return typeof r=="object"?r!==null:typeof r=="function"}});var xe=h((Jf,tn)=>{var ou=ae();tn.exports=function(r){if(!ou(r))throw TypeError(r+" is not an object!");return r}});var me=h((Xf,rn)=>{rn.exports=function(r){try{return!!r()}catch{return!0}}});var te=h((Qf,sn)=>{sn.exports=!me()(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})});var an=h((Zf,on)=>{var nn=ae(),Es=ee().document,au=nn(Es)&&nn(Es.createElement);on.exports=function(r){return au?Es.createElement(r):{}}});var Ss=h((Yf,ln)=>{ln.exports=!te()&&!me()(function(){return Object.defineProperty(an()("div"),"a",{get:function(){return 7}}).a!=7})});var As=h((em,cn)=>{var Rt=ae();cn.exports=function(r,e){if(!Rt(r))return r;var t,s;if(e&&typeof(t=r.toString)=="function"&&!Rt(s=t.call(r))||typeof(t=r.valueOf)=="function"&&!Rt(s=t.call(r))||!e&&typeof(t=r.toString)=="function"&&!Rt(s=t.call(r)))return s;throw TypeError("Can't convert object to primitive value")}});var Me=h(hn=>{var un=xe(),lu=Ss(),cu=As(),uu=Object.defineProperty;hn.f=te()?Object.defineProperty:function(e,t,s){if(un(e),t=cu(t,!0),un(s),lu)try{return uu(e,t,s)}catch{}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(e[t]=s.value),e}});var Ts=h((rm,dn)=>{dn.exports=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}}});var Pt=h((sm,fn)=>{var hu=Me(),du=Ts();fn.exports=te()?function(r,e,t){return hu.f(r,e,du(1,t))}:function(r,e,t){return r[e]=t,r}});var Ft=h((im,mn)=>{var fu={}.hasOwnProperty;mn.exports=function(r,e){return fu.call(r,e)}});var It=h((nm,pn)=>{var mu=0,pu=Math.random();pn.exports=function(r){return"Symbol(".concat(r===void 0?"":r,")_",(++mu+pu).toString(36))}});var bn=h((om,gn)=>{gn.exports=!1});var Bt=h((am,En)=>{var gu=qt(),vn=ee(),yn="__core-js_shared__",wn=vn[yn]||(vn[yn]={});(En.exports=function(r,e){return wn[r]||(wn[r]=e!==void 0?e:{})})("versions",[]).push({version:gu.version,mode:bn()?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})});var An=h((lm,Sn)=>{Sn.exports=Bt()("native-function-to-string",Function.toString)});var _t=h((cm,kn)=>{var bu=ee(),Dt=Pt(),Tn=Ft(),Cs=It()("src"),ks=An(),Cn="toString",vu=(""+ks).split(Cn);qt().inspectSource=function(r){return ks.call(r)};(kn.exports=function(r,e,t,s){var i=typeof t=="function";i&&(Tn(t,"name")||Dt(t,"name",e)),r[e]!==t&&(i&&(Tn(t,Cs)||Dt(t,Cs,r[e]?""+r[e]:vu.join(String(e)))),r===bu?r[e]=t:s?r[e]?r[e]=t:Dt(r,e,t):(delete r[e],Dt(r,e,t)))})(Function.prototype,Cn,function(){return typeof this=="function"&&this[Cs]||ks.call(this)})});var xn=h((um,Ln)=>{Ln.exports=function(r){if(typeof r!="function")throw TypeError(r+" is not a function!");return r}});var Ls=h((hm,Mn)=>{var yu=xn();Mn.exports=function(r,e,t){if(yu(r),e===void 0)return r;switch(t){case 1:return function(s){return r.call(e,s)};case 2:return function(s,i){return r.call(e,s,i)};case 3:return function(s,i,n){return r.call(e,s,i,n)}}return function(){return r.apply(e,arguments)}}});var Ht=h((dm,qn)=>{var pe=ee(),Nt=qt(),wu=Pt(),Eu=_t(),On=Ls(),xs="prototype",D=function(r,e,t){var s=r&D.F,i=r&D.G,n=r&D.S,o=r&D.P,u=r&D.B,p=i?pe:n?pe[e]||(pe[e]={}):(pe[e]||{})[xs],A=i?Nt:Nt[e]||(Nt[e]={}),k=A[xs]||(A[xs]={}),x,b,E,g;i&&(t=e);for(x in t)b=!s&&p&&p[x]!==void 0,E=(b?p:t)[x],g=u&&b?On(E,pe):o&&typeof E=="function"?On(Function.call,E):E,p&&Eu(p,x,E,r&D.U),A[x]!=E&&wu(A,x,g),o&&k[x]!=E&&(k[x]=E)};pe.core=Nt;D.F=1;D.G=2;D.S=4;D.P=8;D.B=16;D.W=32;D.U=64;D.R=128;qn.exports=D});var O=h(()=>{var Ms=Ht();Ms(Ms.S+Ms.F*!te(),"Object",{defineProperty:Me().f})});var Oe=h((pm,Rn)=>{Rn.exports=function(r){if(r==null)throw TypeError("Can't call method on  "+r);return r}});var Fn=h((gm,Pn)=>{var Su=Oe();Pn.exports=function(r){return Object(Su(r))}});var qe=h((bm,In)=>{var Au=Math.ceil,Tu=Math.floor;In.exports=function(r){return isNaN(r=+r)?0:(r>0?Tu:Au)(r)}});var Os=h((vm,Bn)=>{var Cu=qe(),ku=Math.min;Bn.exports=function(r){return r>0?ku(Cu(r),9007199254740991):0}});var _n=h((ym,Dn)=>{var Lu=qe(),xu=Oe();Dn.exports=function(r){return function(e,t){var s=String(xu(e)),i=Lu(t),n=s.length,o,u;return i<0||i>=n?r?"":void 0:(o=s.charCodeAt(i),o<55296||o>56319||i+1===n||(u=s.charCodeAt(i+1))<56320||u>57343?r?s.charAt(i):o:r?s.slice(i,i+2):(o-55296<<10)+(u-56320)+65536)}}});var Hn=h((wm,Nn)=>{"use strict";var Mu=_n()(!0);Nn.exports=function(r,e,t){return e+(t?Mu(r,e).length:1)}});var jt=h((Em,jn)=>{var Ou={}.toString;jn.exports=function(r){return Ou.call(r).slice(8,-1)}});var ge=h((Sm,$n)=>{var qs=Bt()("wks"),qu=It(),Rs=ee().Symbol,Vn=typeof Rs=="function",Ru=$n.exports=function(r){return qs[r]||(qs[r]=Vn&&Rs[r]||(Vn?Rs:qu)("Symbol."+r))};Ru.store=qs});var zn=h((Am,Un)=>{var Ps=jt(),Pu=ge()("toStringTag"),Fu=Ps((function(){return arguments})())=="Arguments",Iu=function(r,e){try{return r[e]}catch{}};Un.exports=function(r){var e,t,s;return r===void 0?"Undefined":r===null?"Null":typeof(t=Iu(e=Object(r),Pu))=="string"?t:Fu?Ps(e):(s=Ps(e))=="Object"&&typeof e.callee=="function"?"Arguments":s}});var Kn=h((Tm,Wn)=>{"use strict";var Bu=zn(),Du=RegExp.prototype.exec;Wn.exports=function(r,e){var t=r.exec;if(typeof t=="function"){var s=t.call(r,e);if(typeof s!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if(Bu(r)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return Du.call(r,e)}});var Fs=h((Cm,Gn)=>{"use strict";var _u=xe();Gn.exports=function(){var r=_u(this),e="";return r.global&&(e+="g"),r.ignoreCase&&(e+="i"),r.multiline&&(e+="m"),r.unicode&&(e+="u"),r.sticky&&(e+="y"),e}});var Ds=h((km,Xn)=>{"use strict";var Nu=Fs(),Vt=RegExp.prototype.exec,Hu=String.prototype.replace,Jn=Vt,$t="lastIndex",Is=(function(){var r=/a/,e=/b*/g;return Vt.call(r,"a"),Vt.call(e,"a"),r[$t]!==0||e[$t]!==0})(),Bs=/()??/.exec("")[1]!==void 0,ju=Is||Bs;ju&&(Jn=function(e){var t=this,s,i,n,o;return Bs&&(i=new RegExp("^"+t.source+"$(?!\\s)",Nu.call(t))),Is&&(s=t[$t]),n=Vt.call(t,e),Is&&n&&(t[$t]=t.global?n.index+n[0].length:s),Bs&&n&&n.length>1&&Hu.call(n[0],i,function(){for(o=1;o<arguments.length-2;o++)arguments[o]===void 0&&(n[o]=void 0)}),n});Xn.exports=Jn});var Zn=h(()=>{"use strict";var Qn=Ds();Ht()({target:"RegExp",proto:!0,forced:Qn!==/./.exec},{exec:Qn})});var to=h((Mm,eo)=>{"use strict";Zn();var Vu=_t(),$u=Pt(),_s=me(),Uu=Oe(),Yn=ge(),zu=Ds(),Wu=Yn("species"),Ku=!_s(function(){var r=/./;return r.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(r,"$<a>")!=="7"}),Gu=(function(){var r=/(?:)/,e=r.exec;r.exec=function(){return e.apply(this,arguments)};var t="ab".split(r);return t.length===2&&t[0]==="a"&&t[1]==="b"})();eo.exports=function(r,e,t){var s=Yn(r),i=!_s(function(){var k={};return k[s]=function(){return 7},""[r](k)!=7}),n=i?!_s(function(){var k=!1,x=/a/;return x.exec=function(){return k=!0,null},r==="split"&&(x.constructor={},x.constructor[Wu]=function(){return x}),x[s](""),!k}):void 0;if(!i||!n||r==="replace"&&!Ku||r==="split"&&!Gu){var o=/./[s],u=t(Uu,s,""[r],function(x,b,E,g,T){return b.exec===zu?i&&!T?{done:!0,value:o.call(b,E,g)}:{done:!0,value:x.call(E,b,g)}:{done:!1}}),p=u[0],A=u[1];Vu(String.prototype,r,p),$u(RegExp.prototype,s,e==2?function(k,x){return A.call(k,this,x)}:function(k){return A.call(k,this)})}}});var Ns=h(()=>{"use strict";var Ju=xe(),Xu=Fn(),Qu=Os(),Zu=qe(),Yu=Hn(),eh=Kn(),th=Math.max,rh=Math.min,sh=Math.floor,ih=/\$([$&`']|\d\d?|<[^>]*>)/g,nh=/\$([$&`']|\d\d?)/g,oh=function(r){return r===void 0?r:String(r)};to()("replace",2,function(r,e,t,s){return[function(o,u){var p=r(this),A=o?.[e];return A!==void 0?A.call(o,p,u):t.call(String(p),o,u)},function(n,o){var u=s(t,n,this,o);if(u.done)return u.value;var p=Ju(n),A=String(this),k=typeof o=="function";k||(o=String(o));var x=p.global;if(x){var b=p.unicode;p.lastIndex=0}for(var E=[];;){var g=eh(p,A);if(g===null||(E.push(g),!x))break;var T=String(g[0]);T===""&&(p.lastIndex=Yu(A,Qu(p.lastIndex),b))}for(var C="",y=0,c=0;c<E.length;c++){g=E[c];for(var m=String(g[0]),a=th(rh(Zu(g.index),A.length),0),l=[],d=1;d<g.length;d++)l.push(oh(g[d]));var f=g.groups;if(k){var v=[m].concat(l,a,A);f!==void 0&&v.push(f);var w=String(o.apply(void 0,v))}else w=i(m,A,a,l,f,o);a>=y&&(C+=A.slice(y,a)+w,y=a+m.length)}return C+A.slice(y)}];function i(n,o,u,p,A,k){var x=u+n.length,b=p.length,E=nh;return A!==void 0&&(A=Xu(A),E=ih),t.call(k,E,function(g,T){var C;switch(T.charAt(0)){case"$":return"$";case"&":return n;case"`":return o.slice(0,u);case"'":return o.slice(x);case"<":C=A[T.slice(1,-1)];break;default:var y=+T;if(y===0)return g;if(y>b){var c=sh(y/10);return c===0?g:c<=b?p[c-1]===void 0?T.charAt(1):p[c-1]+T.charAt(1):g}C=p[y-1]}return C===void 0?"":C})}})});var so=h(ro=>{ro.f={}.propertyIsEnumerable});var no=h((Pm,io)=>{var ah=jt();io.exports=Object("z").propertyIsEnumerable(0)?Object:function(r){return ah(r)=="String"?r.split(""):Object(r)}});var Ut=h((Fm,oo)=>{var lh=no(),ch=Oe();oo.exports=function(r){return lh(ch(r))}});var co=h(lo=>{var uh=so(),hh=Ts(),dh=Ut(),fh=As(),mh=Ft(),ph=Ss(),ao=Object.getOwnPropertyDescriptor;lo.f=te()?ao:function(e,t){if(e=dh(e),t=fh(t,!0),ph)try{return ao(e,t)}catch{}if(mh(e,t))return hh(!uh.f.call(e,t),e[t])}});var fo=h((Bm,ho)=>{var gh=ae(),bh=xe(),uo=function(r,e){if(bh(r),!gh(e)&&e!==null)throw TypeError(e+": can't set as prototype!")};ho.exports={set:Object.setPrototypeOf||("__proto__"in{}?(function(r,e,t){try{t=Ls()(Function.call,co().f(Object.prototype,"__proto__").set,2),t(r,[]),e=!(r instanceof Array)}catch{e=!0}return function(i,n){return uo(i,n),e?i.__proto__=n:t(i,n),i}})({},!1):void 0),check:uo}});var go=h((Dm,po)=>{var vh=ae(),mo=fo().set;po.exports=function(r,e,t){var s=e.constructor,i;return s!==t&&typeof s=="function"&&(i=s.prototype)!==t.prototype&&vh(i)&&mo&&mo(r,i),r}});var vo=h((_m,bo)=>{var yh=qe(),wh=Math.max,Eh=Math.min;bo.exports=function(r,e){return r=yh(r),r<0?wh(r+e,0):Eh(r,e)}});var Hs=h((Nm,yo)=>{var Sh=Ut(),Ah=Os(),Th=vo();yo.exports=function(r){return function(e,t,s){var i=Sh(e),n=Ah(i.length),o=Th(s,n),u;if(r&&t!=t){for(;n>o;)if(u=i[o++],u!=u)return!0}else for(;n>o;o++)if((r||o in i)&&i[o]===t)return r||o||0;return!r&&-1}}});var So=h((Hm,Eo)=>{var wo=Bt()("keys"),Ch=It();Eo.exports=function(r){return wo[r]||(wo[r]=Ch(r))}});var Co=h((jm,To)=>{var Ao=Ft(),kh=Ut(),Lh=Hs()(!1),xh=So()("IE_PROTO");To.exports=function(r,e){var t=kh(r),s=0,i=[],n;for(n in t)n!=xh&&Ao(t,n)&&i.push(n);for(;e.length>s;)Ao(t,n=e[s++])&&(~Lh(i,n)||i.push(n));return i}});var Lo=h((Vm,ko)=>{ko.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")});var Mo=h(xo=>{var Mh=Co(),Oh=Lo().concat("length","prototype");xo.f=Object.getOwnPropertyNames||function(e){return Mh(e,Oh)}});var qo=h((Um,Oo)=>{var qh=ae(),Rh=jt(),Ph=ge()("match");Oo.exports=function(r){var e;return qh(r)&&((e=r[Ph])!==void 0?!!e:Rh(r)=="RegExp")}});var Fo=h((zm,Po)=>{"use strict";var Fh=ee(),Ih=Me(),Bh=te(),Ro=ge()("species");Po.exports=function(r){var e=Fh[r];Bh&&e&&!e[Ro]&&Ih.f(e,Ro,{configurable:!0,get:function(){return this}})}});var zt=h(()=>{var Do=ee(),Dh=go(),_h=Me().f,Nh=Mo().f,Hh=qo(),jh=Fs(),B=Do.RegExp,Re=B,js=B.prototype,Pe=/a/g,Vs=/a/g,Io=new B(Pe)!==Pe;if(te()&&(!Io||me()(function(){return Vs[ge()("match")]=!1,B(Pe)!=Pe||B(Vs)==Vs||B(Pe,"i")!="/a/i"}))){for(B=function(e,t){var s=this instanceof B,i=Hh(e),n=t===void 0;return!s&&i&&e.constructor===B&&n?e:Dh(Io?new Re(i&&!n?e.source:e,t):Re((i=e instanceof B)?e.source:e,i&&n?jh.call(e):t),s?this:js,B)},Bo=function(r){r in B||_h(B,r,{configurable:!0,get:function(){return Re[r]},set:function(e){Re[r]=e}})},$s=Nh(Re),Us=0;$s.length>Us;)Bo($s[Us++]);js.constructor=B,B.prototype=js,_t()(Do,"RegExp",B)}var Bo,$s,Us;Fo()("RegExp")});var No=h((Gm,_o)=>{"use strict";var Vh=me();_o.exports=function(r,e){return!!r&&Vh(function(){e?r.call(null,function(){},1):r.call(null)})}});var jo=h(()=>{"use strict";var zs=Ht(),$h=Hs()(!1),Ws=[].indexOf,Ho=!!Ws&&1/[1].indexOf(1,-0)<0;zs(zs.P+zs.F*(Ho||!No()(Ws)),"Array",{indexOf:function(e){return Ho?Ws.apply(this,arguments)||0:$h(this,e,arguments[1])}})});var N=h((Wt,Vo)=>{"use strict";O();Object.defineProperty(Wt,"__esModule",{value:!0});Wt.default=Uh;Ns();zt();jo();function Uh(r,e,t){return t=t||"",typeof r!="string"&&(r.global&&t.indexOf("g")<0&&(t+="g"),r.ignoreCase&&t.indexOf("i")<0&&(t+="i"),r.multiline&&t.indexOf("m")<0&&(t+="m"),r=r.source),new RegExp(r.replace(/#\{(\w+)\}/g,function(s,i){var n=e[i]||"";return typeof n!="string"&&(n=n.source),n}),t)}Vo.exports=Wt.default});var H=h((Qm,Fe)=>{function zh(r){return r&&r.__esModule?r:{default:r}}Fe.exports=zh,Fe.exports.__esModule=!0,Fe.exports.default=Fe.exports});var Uo=h((Ie,$o)=>{"use strict";var Wh=H();O();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.default=void 0;zt();var Kh=Wh(N()),Gh=(0,Kh.default)(RegExp("(?:(?:\uD55C\uAD6D|\u9999\u6E2F|\u6FB3\u9580|\u65B0\u52A0\u5761|\u53F0\u7063|\u53F0\u6E7E|\u4E2D\u570B|\u4E2D\u56FD|\u10D2\u10D4|\u0EA5\u0EB2\u0EA7|\u0E44\u0E17\u0E22|\u0DBD\u0D82\u0D9A\u0DCF|\u0D2D\u0D3E\u0D30\u0D24\u0D02|\u0CAD\u0CBE\u0CB0\u0CA4|\u0C2D\u0C3E\u0C30\u0C24\u0C4D|\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD|\u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8|\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE|\u0B2D\u0B3E\u0B30\u0B24|\u0AAD\u0ABE\u0AB0\u0AA4|\u0A2D\u0A3E\u0A30\u0A24|\u09AD\u09BE\u09F0\u09A4|\u09AD\u09BE\u09B0\u09A4|\u09AC\u09BE\u0982\u09B2\u09BE|\u092D\u093E\u0930\u094B\u0924|\u092D\u093E\u0930\u0924\u092E\u094D|\u092D\u093E\u0930\u0924|\u0680\u0627\u0631\u062A|\u067E\u0627\u06A9\u0633\u062A\u0627\u0646|\u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627|\u0645\u0644\u064A\u0633\u064A\u0627|\u0645\u0635\u0631|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064A\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0627\u0642|\u0633\u0648\u0631\u064A\u0629|\u0633\u0648\u062F\u0627\u0646|\u062A\u0648\u0646\u0633|\u0628\u06BE\u0627\u0631\u062A|\u0628\u0627\u0631\u062A|\u0627\u06CC\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062A|\u0627\u0644\u0645\u063A\u0631\u0628|\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629|\u0627\u0644\u062C\u0632\u0627\u0626\u0631|\u0627\u0644\u0628\u062D\u0631\u064A\u0646|\u0627\u0644\u0627\u0631\u062F\u0646|\u0570\u0561\u0575|\u049B\u0430\u0437|\u0443\u043A\u0440|\u0441\u0440\u0431|\u0440\u0444|\u043C\u043E\u043D|\u043C\u043A\u0434|\u0435\u044E|\u0431\u0435\u043B|\u0431\u0433|\u03B5\u03C5|\u03B5\u03BB|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@+-]|$))")),Jh=Gh;Ie.default=Jh;$o.exports=Ie.default});var Ks=h((Be,zo)=>{"use strict";O();Object.defineProperty(Be,"__esModule",{value:!0});Be.default=void 0;var Xh=/\u202A-\u202E\u061C\u200E\u200F\u2066\u2067\u2068\u2069/,Qh=Xh;Be.default=Qh;zo.exports=Be.default});var Gs=h((De,Wo)=>{"use strict";O();Object.defineProperty(De,"__esModule",{value:!0});De.default=void 0;var Zh=/\uFFFE\uFEFF\uFFFF/,Yh=Zh;De.default=Yh;Wo.exports=De.default});var Go=h((_e,Ko)=>{"use strict";O();Object.defineProperty(_e,"__esModule",{value:!0});_e.default=void 0;var ed=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,td=ed;_e.default=td;Ko.exports=_e.default});var Xo=h((Ne,Jo)=>{"use strict";O();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.default=void 0;var rd=/\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000/,sd=rd;Ne.default=sd;Jo.exports=Ne.default});var Zo=h((Kt,Qo)=>{"use strict";O();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.default=id;Ns();function id(r,e){return r.replace(/#\{(\w+)\}/g,function(t,s){return e[s]||""})}Qo.exports=Kt.default});var ea=h((je,Yo)=>{"use strict";var He=H();O();Object.defineProperty(je,"__esModule",{value:!0});je.default=void 0;var nd=He(Ks()),od=He(Gs()),ad=He(Go()),ld=He(Xo()),cd=He(Zo()),ud=(0,cd.default)("#{punct}#{spacesGroup}#{invalidCharsGroup}#{directionalMarkersGroup}",{punct:ad.default,spacesGroup:ld.default,invalidCharsGroup:od.default,directionalMarkersGroup:nd.default}),hd=ud;je.default=hd;Yo.exports=je.default});var Js=h((Ve,ra)=>{"use strict";var ta=H();O();Object.defineProperty(Ve,"__esModule",{value:!0});Ve.default=void 0;var dd=ta(ea()),fd=ta(N()),md=(0,fd.default)(/[^#{invalidDomainChars}]/,{invalidDomainChars:dd.default}),pd=md;Ve.default=pd;ra.exports=Ve.default});var na=h(($e,ia)=>{"use strict";var sa=H();O();Object.defineProperty($e,"__esModule",{value:!0});$e.default=void 0;var gd=sa(N()),bd=sa(Js()),vd=(0,gd.default)(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/,{validDomainChars:bd.default}),yd=vd;$e.default=yd;ia.exports=$e.default});var aa=h((Ue,oa)=>{"use strict";var wd=H();O();Object.defineProperty(Ue,"__esModule",{value:!0});Ue.default=void 0;zt();var Ed=wd(N()),Sd=(0,Ed.default)(RegExp("(?:(?:\uC0BC\uC131|\uB2F7\uCEF4|\uB2F7\uB137|\u9999\u683C\u91CC\u62C9|\u9910\u5385|\u98DF\u54C1|\u98DE\u5229\u6D66|\u96FB\u8A0A\u76C8\u79D1|\u96C6\u56E2|\u901A\u8CA9|\u8D2D\u7269|\u8C37\u6B4C|\u8BFA\u57FA\u4E9A|\u8054\u901A|\u7F51\u7EDC|\u7F51\u7AD9|\u7F51\u5E97|\u7F51\u5740|\u7EC4\u7EC7\u673A\u6784|\u79FB\u52A8|\u73E0\u5B9D|\u70B9\u770B|\u6E38\u620F|\u6DE1\u9A6C\u9521|\u673A\u6784|\u66F8\u7C4D|\u65F6\u5C1A|\u65B0\u95FB|\u653F\u5E9C|\u653F\u52A1|\u62DB\u8058|\u624B\u8868|\u624B\u673A|\u6211\u7231\u4F60|\u6148\u5584|\u5FAE\u535A|\u5E7F\u4E1C|\u5DE5\u884C|\u5BB6\u96FB|\u5A31\u4E50|\u5929\u4E3B\u6559|\u5927\u62FF|\u5927\u4F17\u6C7D\u8F66|\u5728\u7EBF|\u5609\u91CC\u5927\u9152\u5E97|\u5609\u91CC|\u5546\u6807|\u5546\u5E97|\u5546\u57CE|\u516C\u76CA|\u516C\u53F8|\u516B\u5366|\u5065\u5EB7|\u4FE1\u606F|\u4F5B\u5C71|\u4F01\u4E1A|\u4E2D\u6587\u7F51|\u4E2D\u4FE1|\u4E16\u754C|\u30DD\u30A4\u30F3\u30C8|\u30D5\u30A1\u30C3\u30B7\u30E7\u30F3|\u30BB\u30FC\u30EB|\u30B9\u30C8\u30A2|\u30B3\u30E0|\u30B0\u30FC\u30B0\u30EB|\u30AF\u30E9\u30A6\u30C9|\u307F\u3093\u306A|\u0E04\u0E2D\u0E21|\u0938\u0902\u0917\u0920\u0928|\u0928\u0947\u091F|\u0915\u0949\u092E|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064A\u0644\u064A|\u0643\u0648\u0645|\u0643\u0627\u062B\u0648\u0644\u064A\u0643|\u0639\u0631\u0628|\u0634\u0628\u0643\u0629|\u0628\u064A\u062A\u0643|\u0628\u0627\u0632\u0627\u0631|\u0627\u0644\u0639\u0644\u064A\u0627\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062A\u0635\u0627\u0644\u0627\u062A|\u0627\u0628\u0648\u0638\u0628\u064A|\u05E7\u05D5\u05DD|\u0441\u0430\u0439\u0442|\u0440\u0443\u0441|\u043E\u0440\u0433|\u043E\u043D\u043B\u0430\u0439\u043D|\u043C\u043E\u0441\u043A\u0432\u0430|\u043A\u043E\u043C|\u043A\u0430\u0442\u043E\u043B\u0438\u043A|\u0434\u0435\u0442\u0438|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|verm\xF6gensberatung|verm\xF6gensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|llp|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|gay|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|etisalat|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|charity|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@+-]|$))")),Ad=Sd;Ue.default=Ad;oa.exports=Ue.default});var ca=h((ze,la)=>{"use strict";O();Object.defineProperty(ze,"__esModule",{value:!0});ze.default=void 0;var Td=/(?:xn--[\-0-9a-z]+)/,Cd=Td;ze.default=Cd;la.exports=ze.default});var da=h((We,ha)=>{"use strict";var ua=H();O();Object.defineProperty(We,"__esModule",{value:!0});We.default=void 0;var kd=ua(N()),Ld=ua(Js()),xd=(0,kd.default)(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/,{validDomainChars:Ld.default}),Md=xd;We.default=Md;ha.exports=We.default});var ma=h((Ke,fa)=>{"use strict";var be=H();O();Object.defineProperty(Ke,"__esModule",{value:!0});Ke.default=void 0;var Od=be(N()),qd=be(Uo()),Rd=be(na()),Pd=be(aa()),Fd=be(ca()),Id=be(da()),Bd=(0,Od.default)(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/,{validDomainName:Rd.default,validSubdomain:Id.default,validGTLD:Pd.default,validCCTLD:qd.default,validPunycode:Fd.default}),Dd=Bd;Ke.default=Dd;fa.exports=Ke.default});var ga=h((Ge,pa)=>{"use strict";O();Object.defineProperty(Ge,"__esModule",{value:!0});Ge.default=void 0;var _d=/[0-9]+/,Nd=_d;Ge.default=Nd;pa.exports=Ge.default});var Xs=h((Je,ba)=>{"use strict";O();Object.defineProperty(Je,"__esModule",{value:!0});Je.default=void 0;var Hd=/\u0400-\u04FF/,jd=Hd;Je.default=jd;ba.exports=Je.default});var Qs=h((Xe,va)=>{"use strict";O();Object.defineProperty(Xe,"__esModule",{value:!0});Xe.default=void 0;var Vd=/\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253\u0254\u0256\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF/,$d=Vd;Xe.default=$d;va.exports=Xe.default});var Ys=h((Qe,ya)=>{"use strict";var Zs=H();O();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.default=void 0;var Ud=Zs(Xs()),zd=Zs(Qs()),Wd=Zs(N()),Kd=(0,Wd.default)(/[a-z#{cyrillicLettersAndMarks}0-9!\*';:=\+,\.\$\/%#\[\]\-\u2013_~@\|&#{latinAccentChars}]/i,{cyrillicLettersAndMarks:Ud.default,latinAccentChars:zd.default}),Gd=Kd;Qe.default=Gd;ya.exports=Qe.default});var ei=h((Ze,Ea)=>{"use strict";var wa=H();O();Object.defineProperty(Ze,"__esModule",{value:!0});Ze.default=void 0;var Jd=wa(N()),Xd=wa(Ys()),Qd=(0,Jd.default)("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)",{validGeneralUrlPathChars:Xd.default},"i"),Zd=Qd;Ze.default=Zd;Ea.exports=Ze.default});var Aa=h((Ye,Sa)=>{"use strict";var Gt=H();O();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.default=void 0;var Yd=Gt(Xs()),ef=Gt(Qs()),tf=Gt(N()),rf=Gt(ei()),sf=(0,tf.default)(/[\+\-a-z#{cyrillicLettersAndMarks}0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i,{cyrillicLettersAndMarks:Yd.default,latinAccentChars:ef.default,validUrlBalancedParens:rf.default}),nf=sf;Ye.default=nf;Sa.exports=Ye.default});var Ca=h((et,Ta)=>{"use strict";var Jt=H();O();Object.defineProperty(et,"__esModule",{value:!0});et.default=void 0;var of=Jt(N()),af=Jt(Ys()),lf=Jt(ei()),cf=Jt(Aa()),uf=(0,of.default)("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))",{validGeneralUrlPathChars:af.default,validUrlBalancedParens:lf.default,validUrlPathEndingChars:cf.default},"i"),hf=uf;et.default=hf;Ta.exports=et.default});var La=h((tt,ka)=>{"use strict";var ti=H();O();Object.defineProperty(tt,"__esModule",{value:!0});tt.default=void 0;var df=ti(Ks()),ff=ti(Gs()),mf=ti(N()),pf=(0,mf.default)(/(?:[^A-Za-z0-9@＠$#＃#{invalidCharsGroup}]|[#{directionalMarkersGroup}]|^)/,{invalidCharsGroup:ff.default,directionalMarkersGroup:df.default}),gf=pf;tt.default=gf;ka.exports=tt.default});var Ma=h((rt,xa)=>{"use strict";O();Object.defineProperty(rt,"__esModule",{value:!0});rt.default=void 0;var bf=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,vf=bf;rt.default=vf;xa.exports=rt.default});var qa=h((st,Oa)=>{"use strict";O();Object.defineProperty(st,"__esModule",{value:!0});st.default=void 0;var yf=/[a-z0-9\-_&=#\/]/i,wf=yf;st.default=wf;Oa.exports=st.default});(function(r){if(typeof r.requestSubmit=="function")return;r.requestSubmit=function(s){s?(e(s,this),s.click()):(s=document.createElement("input"),s.type="submit",s.hidden=!0,this.appendChild(s),s.click(),this.removeChild(s))};function e(s,i){s instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),s.type=="submit"||t(TypeError,"The specified element is not a submit button"),s.form==i||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}function t(s,i,n){throw new s("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+i+".",n)}})(HTMLFormElement.prototype);var di=new WeakMap;function Wa(r){let e=r instanceof Element?r:r instanceof Node?r.parentElement:null,t=e?e.closest("input, button"):null;return t?.type=="submit"?t:null}function Ka(r){let e=Wa(r.target);e&&e.form&&di.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let r=window.Event.prototype;if("SubmitEvent"in window){let e=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in e))r=e;else return}addEventListener("click",Ka,!0),Object.defineProperty(r,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return di.get(this.target)}})})();var ce={eager:"eager",lazy:"lazy"},U=class r extends HTMLElement{static delegateConstructor=void 0;loaded=Promise.resolve();static get observedAttributes(){return["disabled","loading","src"]}constructor(){super(),this.delegate=new r.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="src"?this.delegate.sourceURLChanged():e=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(e){e?this.setAttribute("refresh",e):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return Ga(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){return this.ownerDocument?.documentElement?.hasAttribute("data-turbo-preview")}};function Ga(r){switch(r.toLowerCase()){case"lazy":return ce.lazy;default:return ce.eager}}var Ja={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function ye(r){if(r.getAttribute("data-turbo-eval")=="false")return r;{let e=document.createElement("script"),t=vi();return t&&(e.nonce=t),e.textContent=r.textContent,e.async=!1,Xa(e,r),e}}function Xa(r,e){for(let{name:t,value:s}of e.attributes)r.setAttribute(t,s)}function Qa(r){let e=document.createElement("template");return e.innerHTML=r,e.content}function q(r,{target:e,cancelable:t,detail:s}={}){let i=new CustomEvent(r,{cancelable:t,bubbles:!0,composed:!0,detail:s});return e&&e.isConnected?e.dispatchEvent(i):document.documentElement.dispatchEvent(i),i}function ni(r){r.preventDefault(),r.stopImmediatePropagation()}function ve(){return document.visibilityState==="hidden"?mi():fi()}function fi(){return new Promise(r=>requestAnimationFrame(()=>r()))}function mi(){return new Promise(r=>setTimeout(()=>r(),0))}function Za(){return Promise.resolve()}function pi(r=""){return new DOMParser().parseFromString(r,"text/html")}function gi(r,...e){let t=Ya(r,e).replace(/^\n/,"").split(`
`),s=t[0].match(/^\s+/),i=s?s[0].length:0;return t.map(n=>n.slice(i)).join(`
`)}function Ya(r,e){return r.reduce((t,s,i)=>{let n=e[i]==null?"":e[i];return t+s+n},"")}function Z(){return Array.from({length:36}).map((r,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function ot(r,...e){for(let t of e.map(s=>s?.getAttribute(r)))if(typeof t=="string")return t;return null}function el(r,...e){return e.some(t=>t&&t.hasAttribute(r))}function at(...r){for(let e of r)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function lt(...r){for(let e of r)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function tl(r,e=2e3){return new Promise(t=>{let s=()=>{r.removeEventListener("error",s),r.removeEventListener("load",s),t()};r.addEventListener("load",s,{once:!0}),r.addEventListener("error",s,{once:!0}),setTimeout(t,e)})}function bi(r){switch(r){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function rl(r){return r=="advance"||r=="replace"||r=="restore"}function ie(...r){let e=ot("data-turbo-action",...r);return rl(e)?e:null}function Vr(r){return document.querySelector(`meta[name="${r}"]`)}function ct(r){let e=Vr(r);return e&&e.content}function vi(){let r=Vr("csp-nonce");if(r){let{nonce:e,content:t}=r;return e==""?t:e}}function sl(r,e){let t=Vr(r);return t||(t=document.createElement("meta"),t.setAttribute("name",r),document.head.appendChild(t)),t.setAttribute("content",e),t}function he(r,e){if(r instanceof Element)return r.closest(e)||he(r.assignedSlot||r.getRootNode()?.host,e)}function $r(r){return!!r&&r.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof r.focus=="function"}function yi(r){return Array.from(r.querySelectorAll("[autofocus]")).find($r)}async function il(r,e){let t=e();r(),await fi();let s=e();return[t,s]}function wi(r){if(r==="_blank")return!1;if(r){for(let e of document.getElementsByName(r))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function Ei(r){let e=he(r,"a[href], a[xlink\\:href]");return!e||e.hasAttribute("download")||e.hasAttribute("target")&&e.target!=="_self"?null:e}function Si(r){return I(r.getAttribute("href")||"")}function nl(r,e){let t=null;return(...s)=>{let i=()=>r.apply(this,s);clearTimeout(t),t=setTimeout(i,e)}}var ol={"aria-disabled":{beforeSubmit:r=>{r.setAttribute("aria-disabled","true"),r.addEventListener("click",ni)},afterSubmit:r=>{r.removeAttribute("aria-disabled"),r.removeEventListener("click",ni)}},disabled:{beforeSubmit:r=>r.disabled=!0,afterSubmit:r=>r.disabled=!1}},hr=class{#e=null;constructor(e){Object.assign(this,e)}get submitter(){return this.#e}set submitter(e){this.#e=ol[e]||e}},al=new hr({mode:"on",submitter:"disabled"}),F={drive:Ja,forms:al};function I(r){return new URL(r.toString(),document.baseURI)}function ne(r){let e;if(r.hash)return r.hash.slice(1);if(e=r.href.match(/#(.*)$/))return e[1]}function Ur(r,e){let t=e?.getAttribute("formaction")||r.getAttribute("action")||r.action;return I(t)}function ll(r){return(hl(r).match(/\.[^.]*$/)||[])[0]||""}function cl(r,e){let t=oi(e.origin+e.pathname);return oi(r.href)===t||r.href.startsWith(t)}function Q(r,e){return cl(r,e)&&!F.drive.unvisitableExtensions.has(ll(r))}function dr(r){let e=ne(r);return e!=null?r.href.slice(0,-(e.length+1)):r.href}function it(r){return dr(r)}function Ai(r,e){return I(r).href==I(e).href}function ul(r){return r.pathname.split("/").slice(1)}function hl(r){return ul(r).slice(-1)[0]}function oi(r){return r.endsWith("/")?r:r+"/"}var we=class{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return I(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}},fr=class extends Set{constructor(e){super(),this.maxSize=e}add(e){if(this.size>=this.maxSize){let s=this.values().next().value;this.delete(s)}super.add(e)}},Ti=new fr(20);function Ci(r,e={}){let t=new Headers(e.headers||{}),s=Z();return Ti.add(s),t.append("X-Turbo-Request-Id",s),window.fetch(r,{...e,headers:t})}function zr(r){switch(r.toLowerCase()){case"get":return j.get;case"post":return j.post;case"put":return j.put;case"patch":return j.patch;case"delete":return j.delete}}var j={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function dl(r){switch(r.toLowerCase()){case se.multipart:return se.multipart;case se.plain:return se.plain;default:return se.urlEncoded}}var se={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"},oe=class{abortController=new AbortController;#e=e=>{};constructor(e,t,s,i=new URLSearchParams,n=null,o=se.urlEncoded){let[u,p]=ai(I(s),t,i,o);this.delegate=e,this.url=u,this.target=n,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:t.toUpperCase(),headers:{...this.defaultHeaders},body:p,signal:this.abortSignal,referrer:this.delegate.referrer?.href},this.enctype=o}get method(){return this.fetchOptions.method}set method(e){let t=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,s=zr(e)||j.get;this.url.search="";let[i,n]=ai(this.url,s,t,this.enctype);this.url=i,this.fetchOptions.body=n,this.fetchOptions.method=s.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(e){this.fetchOptions.headers=e}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(e){this.fetchOptions.body=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:e}=this;this.delegate.prepareRequest(this);let t=await this.#t(e);try{this.delegate.requestStarted(this),t.detail.fetchRequest?this.response=t.detail.fetchRequest.response:this.response=Ci(this.url.href,e);let s=await this.response;return await this.receive(s)}catch(s){if(s.name!=="AbortError")throw this.#r(s)&&this.delegate.requestErrored(this,s),s}finally{this.delegate.requestFinished(this)}}async receive(e){let t=new we(e);return q("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return Wr(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async#t(e){let t=new Promise(i=>this.#e=i),s=q("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.#e},target:this.target});return this.url=s.detail.url,s.defaultPrevented&&await t,s}#r(e){return!q("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}};function Wr(r){return zr(r)==j.get}function ai(r,e,t,s){let i=Array.from(t).length>0?new URLSearchParams(ki(t)):r.searchParams;return Wr(e)?[fl(r,i),null]:s==se.urlEncoded?[r,i]:[r,t]}function ki(r){let e=[];for(let[t,s]of r)s instanceof File||e.push([t,s]);return e}function fl(r,e){let t=new URLSearchParams(ki(e));return r.search=t.toString(),r}var mr=class{started=!1;constructor(e,t){this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}intersect=e=>{e.slice(-1)[0]?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)}},Y=class{static contentType="text/vnd.turbo-stream.html";static wrap(e){return typeof e=="string"?new this(Qa(e)):e}constructor(e){this.fragment=ml(e)}};function ml(r){for(let e of r.querySelectorAll("turbo-stream")){let t=document.importNode(e,!0);for(let s of t.templateElement.content.querySelectorAll("script"))s.replaceWith(ye(s));e.replaceWith(t)}return r}var pl=100,pr=class{#e=null;#t=null;get(e){if(this.#t&&this.#t.url===e&&this.#t.expire>Date.now())return this.#t.request}setLater(e,t,s){this.clear(),this.#e=setTimeout(()=>{t.perform(),this.set(e,t,s),this.#e=null},pl)}set(e,t,s){this.#t={url:e,request:t,expire:new Date(new Date().getTime()+s)}}clear(){this.#e&&clearTimeout(this.#e),this.#t=null}},gl=10*1e3,ue=new pr,le={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"},ut=class r{state=le.initialized;static confirmMethod(e){return Promise.resolve(confirm(e))}constructor(e,t,s,i=!1){let n=Sl(t,s),o=El(wl(t,s),n),u=bl(t,s),p=Al(t,s);this.delegate=e,this.formElement=t,this.submitter=s,this.fetchRequest=new oe(this,n,o,u,t,p),this.mustRedirect=i}get method(){return this.fetchRequest.method}set method(e){this.fetchRequest.method=e}get action(){return this.fetchRequest.url.toString()}set action(e){this.fetchRequest.url=I(e)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){let{initialized:e,requesting:t}=le,s=ot("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof s=="string"&&!await(typeof F.forms.confirm=="function"?F.forms.confirm:r.confirmMethod)(s,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){let{stopping:e,stopped:t}=le;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){let t=vl(ct("csrf-param"))||ct("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(Y.contentType)}requestStarted(e){this.state=le.waiting,this.submitter&&F.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),at(this.formElement),q("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){ue.clear(),this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError){this.delegate.formSubmissionFailedWithResponse(this,t);return}if(ue.clear(),this.requestMustRedirect(e)&&yl(t)){let s=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,s)}else this.state=le.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){this.state=le.stopped,this.submitter&&F.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),lt(this.formElement),q("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||el("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){return this.submitter?.getAttribute("data-turbo-submits-with")}};function bl(r,e){let t=new FormData(r),s=e?.getAttribute("name"),i=e?.getAttribute("value");return s&&t.append(s,i||""),t}function vl(r){if(r!=null){let t=(document.cookie?document.cookie.split("; "):[]).find(s=>s.startsWith(r));if(t){let s=t.split("=").slice(1).join("=");return s?decodeURIComponent(s):void 0}}}function yl(r){return r.statusCode==200&&!r.redirected}function wl(r,e){let t=typeof r.action=="string"?r.action:null;return e?.hasAttribute("formaction")?e.getAttribute("formaction")||"":r.getAttribute("action")||t||""}function El(r,e){let t=I(r);return Wr(e)&&(t.search=""),t}function Sl(r,e){let t=e?.getAttribute("formmethod")||r.getAttribute("method")||"";return zr(t.toLowerCase())||j.get}function Al(r,e){return dl(e?.getAttribute("formenctype")||r.enctype)}var fe=class{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return yi(this.element)}get permanentElements(){return xi(this.element)}getPermanentElementById(e){return Li(this.element,e)}getPermanentElementMapForSnapshot(e){let t={};for(let s of this.permanentElements){let{id:i}=s,n=e.getPermanentElementById(i);n&&(t[i]=[s,n])}return t}};function Li(r,e){return r.querySelector(`#${e}[data-turbo-permanent]`)}function xi(r){return r.querySelectorAll("[id][data-turbo-permanent]")}var Ee=class{started=!1;constructor(e,t){this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)};submitBubbled=e=>{if(!e.defaultPrevented){let t=e.target instanceof HTMLFormElement?e.target:void 0,s=e.submitter||void 0;t&&Tl(t,s)&&Cl(t,s)&&this.delegate.willSubmitForm(t,s)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(t,s))}}};function Tl(r,e){return(e?.getAttribute("formmethod")||r.getAttribute("method"))!="dialog"}function Cl(r,e){let t=e?.getAttribute("formtarget")||r.getAttribute("target");return wi(t)}var ht=class{#e=e=>{};#t=e=>{};constructor(e,t){this.delegate=e,this.element=t}scrollToAnchor(e){let t=this.snapshot.getElementForAnchor(e);t?(this.focusElement(t),this.scrollToElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(ne(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){let{isPreview:t,shouldRender:s,willRender:i,newSnapshot:n}=e,o=i;if(s)try{this.renderPromise=new Promise(k=>this.#e=k),this.renderer=e,await this.prepareToRenderSnapshot(e);let u=new Promise(k=>this.#t=k),p={resume:this.#t,render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(n,p)||await u,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(n,t,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.#e(void 0),delete this.renderPromise}else o&&this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(e){this.element.setAttribute("data-turbo-visit-direction",e)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}},gr=class extends ht{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new fe(this.element)}},dt=class{constructor(e,t){this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickBubbled=e=>{this.clickEventIsSignificant(e)?this.clickEvent=e:delete this.clickEvent};linkClicked=e=>{this.clickEvent&&this.clickEventIsSignificant(e)&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent};willVisit=e=>{delete this.clickEvent};clickEventIsSignificant(e){let t=e.composed?e.target?.parentElement:e.target,s=Ei(t)||t;return s instanceof Element&&s.closest("turbo-frame, html")==this.element}},ft=class{started=!1;constructor(e,t){this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)};clickBubbled=e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){let t=e.composedPath&&e.composedPath()[0]||e.target,s=Ei(t);if(s&&wi(s.target)){let i=Si(s);this.delegate.willFollowLinkToLocation(s,i,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(s,i))}}};clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}},mt=class{constructor(e,t){this.delegate=e,this.linkInterceptor=new ft(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(e,t){return!1}prefetchAndCacheRequestToLocation(e,t){}willFollowLinkToLocation(e,t,s){return this.delegate.willSubmitFormLinkToLocation(e,t,s)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}followedLinkToLocation(e,t){let s=document.createElement("form"),i="hidden";for(let[x,b]of t.searchParams)s.append(Object.assign(document.createElement("input"),{type:i,name:x,value:b}));let n=Object.assign(t,{search:""});s.setAttribute("data-turbo","true"),s.setAttribute("action",n.href),s.setAttribute("hidden","");let o=e.getAttribute("data-turbo-method");o&&s.setAttribute("method",o);let u=e.getAttribute("data-turbo-frame");u&&s.setAttribute("data-turbo-frame",u);let p=ie(e);p&&s.setAttribute("data-turbo-action",p);let A=e.getAttribute("data-turbo-confirm");A&&s.setAttribute("data-turbo-confirm",A),e.hasAttribute("data-turbo-stream")&&s.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,s),document.body.appendChild(s),s.addEventListener("turbo:submit-end",()=>s.remove(),{once:!0}),requestAnimationFrame(()=>s.requestSubmit())}},pt=class{static async preservingPermanentElements(e,t,s){let i=new this(e,t);i.enter(),await s(),i.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(let e in this.permanentElementMap){let[t,s]=this.permanentElementMap[e];this.delegate.enteringBardo(t,s),this.replaceNewPermanentElementWithPlaceholder(s)}}leave(){for(let e in this.permanentElementMap){let[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){let t=kl(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){let t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){this.getPlaceholderById(e.id)?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};function kl(r){let e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",r.id),e}var Se=class{#e=null;static renderElement(e,t){}constructor(e,t,s,i=!0){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=s,this.willRender=i,this.renderElement=this.constructor.renderElement,this.promise=new Promise((n,o)=>this.resolvingFunctions={resolve:n,reject:o})}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await pt.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){let e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}enteringBardo(e){this.#e||e.contains(this.currentSnapshot.activeElement)&&(this.#e=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.#e)&&this.#e instanceof HTMLElement&&(this.#e.focus(),this.#e=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}},Ae=class extends Se{static renderElement(e,t){let s=document.createRange();s.selectNodeContents(e),s.deleteContents();let i=t,n=i.ownerDocument?.createRange();n&&(n.selectNodeContents(i),e.appendChild(n.extractContents()))}constructor(e,t,s,i,n,o=!0){super(t,s,i,n,o),this.delegate=e}get shouldRender(){return!0}async render(){await ve(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await ve(),this.focusFirstAutofocusableElement(),await ve(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let e=this.currentElement.firstElementChild,t=Ll(this.currentElement.getAttribute("data-autoscroll-block"),"end"),s=xl(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:s}),!0}return!1}activateScriptElements(){for(let e of this.newScriptElements){let t=ye(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};function Ll(r,e){return r=="end"||r=="start"||r=="center"||r=="nearest"?r:e}function xl(r,e){return r=="auto"||r=="smooth"?r:e}var Ml=(function(){let r=()=>{},e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:r,afterNodeAdded:r,beforeNodeMorphed:r,afterNodeMorphed:r,beforeNodeRemoved:r,afterNodeRemoved:r,beforeAttributeUpdated:r},head:{style:"merge",shouldPreserve:b=>b.getAttribute("im-preserve")==="true",shouldReAppend:b=>b.getAttribute("im-re-append")==="true",shouldRemove:r,afterHeadMorphed:r},restoreFocus:!0};function t(b,E,g={}){b=k(b);let T=x(E),C=A(b,T,g),y=i(C,()=>u(C,b,T,c=>c.morphStyle==="innerHTML"?(n(c,b,T),Array.from(b.childNodes)):s(c,b,T)));return C.pantry.remove(),y}function s(b,E,g){let T=x(E);return n(b,T,g,E,E.nextSibling),Array.from(T.childNodes)}function i(b,E){if(!b.config.restoreFocus)return E();let g=document.activeElement;if(!(g instanceof HTMLInputElement||g instanceof HTMLTextAreaElement))return E();let{id:T,selectionStart:C,selectionEnd:y}=g,c=E();return T&&T!==document.activeElement?.getAttribute("id")&&(g=b.target.querySelector(`[id="${T}"]`),g?.focus()),g&&!g.selectionEnd&&y&&g.setSelectionRange(C,y),c}let n=(function(){function b(a,l,d,f=null,v=null){l instanceof HTMLTemplateElement&&d instanceof HTMLTemplateElement&&(l=l.content,d=d.content),f||=l.firstChild;for(let w of d.childNodes){if(f&&f!=v){let M=g(a,w,f,v);if(M){M!==f&&C(a,f,M),o(M,w,a),f=M.nextSibling;continue}}if(w instanceof Element){let M=w.getAttribute("id");if(a.persistentIds.has(M)){let W=y(l,M,f,a);o(W,w,a),f=W.nextSibling;continue}}let L=E(l,w,f,a);L&&(f=L.nextSibling)}for(;f&&f!=v;){let w=f;f=f.nextSibling,T(a,w)}}function E(a,l,d,f){if(f.callbacks.beforeNodeAdded(l)===!1)return null;if(f.idMap.has(l)){let v=document.createElement(l.tagName);return a.insertBefore(v,d),o(v,l,f),f.callbacks.afterNodeAdded(v),v}else{let v=document.importNode(l,!0);return a.insertBefore(v,d),f.callbacks.afterNodeAdded(v),v}}let g=(function(){function a(f,v,w,L){let M=null,W=v.nextSibling,si=0,V=w;for(;V&&V!=L;){if(d(V,v)){if(l(f,V,v))return V;M===null&&(f.idMap.has(V)||(M=V))}if(M===null&&W&&d(V,W)&&(si++,W=W.nextSibling,si>=2&&(M=void 0)),f.activeElementAndParents.includes(V))break;V=V.nextSibling}return M||null}function l(f,v,w){let L=f.idMap.get(v),M=f.idMap.get(w);if(!M||!L)return!1;for(let W of L)if(M.has(W))return!0;return!1}function d(f,v){let w=f,L=v;return w.nodeType===L.nodeType&&w.tagName===L.tagName&&(!w.getAttribute?.("id")||w.getAttribute?.("id")===L.getAttribute?.("id"))}return a})();function T(a,l){if(a.idMap.has(l))m(a.pantry,l,null);else{if(a.callbacks.beforeNodeRemoved(l)===!1)return;l.parentNode?.removeChild(l),a.callbacks.afterNodeRemoved(l)}}function C(a,l,d){let f=l;for(;f&&f!==d;){let v=f;f=f.nextSibling,T(a,v)}return f}function y(a,l,d,f){let v=f.target.getAttribute?.("id")===l&&f.target||f.target.querySelector(`[id="${l}"]`)||f.pantry.querySelector(`[id="${l}"]`);return c(v,f),m(a,v,d),v}function c(a,l){let d=a.getAttribute("id");for(;a=a.parentNode;){let f=l.idMap.get(a);f&&(f.delete(d),f.size||l.idMap.delete(a))}}function m(a,l,d){if(a.moveBefore)try{a.moveBefore(l,d)}catch{a.insertBefore(l,d)}else a.insertBefore(l,d)}return b})(),o=(function(){function b(c,m,a){return a.ignoreActive&&c===document.activeElement?null:(a.callbacks.beforeNodeMorphed(c,m)===!1||(c instanceof HTMLHeadElement&&a.head.ignore||(c instanceof HTMLHeadElement&&a.head.style!=="morph"?p(c,m,a):(E(c,m,a),y(c,a)||n(a,c,m))),a.callbacks.afterNodeMorphed(c,m)),c)}function E(c,m,a){let l=m.nodeType;if(l===1){let d=c,f=m,v=d.attributes,w=f.attributes;for(let L of w)C(L.name,d,"update",a)||d.getAttribute(L.name)!==L.value&&d.setAttribute(L.name,L.value);for(let L=v.length-1;0<=L;L--){let M=v[L];if(M&&!f.hasAttribute(M.name)){if(C(M.name,d,"remove",a))continue;d.removeAttribute(M.name)}}y(d,a)||g(d,f,a)}(l===8||l===3)&&c.nodeValue!==m.nodeValue&&(c.nodeValue=m.nodeValue)}function g(c,m,a){if(c instanceof HTMLInputElement&&m instanceof HTMLInputElement&&m.type!=="file"){let l=m.value,d=c.value;T(c,m,"checked",a),T(c,m,"disabled",a),m.hasAttribute("value")?d!==l&&(C("value",c,"update",a)||(c.setAttribute("value",l),c.value=l)):C("value",c,"remove",a)||(c.value="",c.removeAttribute("value"))}else if(c instanceof HTMLOptionElement&&m instanceof HTMLOptionElement)T(c,m,"selected",a);else if(c instanceof HTMLTextAreaElement&&m instanceof HTMLTextAreaElement){let l=m.value,d=c.value;if(C("value",c,"update",a))return;l!==d&&(c.value=l),c.firstChild&&c.firstChild.nodeValue!==l&&(c.firstChild.nodeValue=l)}}function T(c,m,a,l){let d=m[a],f=c[a];if(d!==f){let v=C(a,c,"update",l);v||(c[a]=m[a]),d?v||c.setAttribute(a,""):C(a,c,"remove",l)||c.removeAttribute(a)}}function C(c,m,a,l){return c==="value"&&l.ignoreActiveValue&&m===document.activeElement?!0:l.callbacks.beforeAttributeUpdated(c,m,a)===!1}function y(c,m){return!!m.ignoreActiveValue&&c===document.activeElement&&c!==document.body}return b})();function u(b,E,g,T){if(b.head.block){let C=E.querySelector("head"),y=g.querySelector("head");if(C&&y){let c=p(C,y,b);return Promise.all(c).then(()=>{let m=Object.assign(b,{head:{block:!1,ignore:!0}});return T(m)})}}return T(b)}function p(b,E,g){let T=[],C=[],y=[],c=[],m=new Map;for(let l of E.children)m.set(l.outerHTML,l);for(let l of b.children){let d=m.has(l.outerHTML),f=g.head.shouldReAppend(l),v=g.head.shouldPreserve(l);d||v?f?C.push(l):(m.delete(l.outerHTML),y.push(l)):g.head.style==="append"?f&&(C.push(l),c.push(l)):g.head.shouldRemove(l)!==!1&&C.push(l)}c.push(...m.values());let a=[];for(let l of c){let d=document.createRange().createContextualFragment(l.outerHTML).firstChild;if(g.callbacks.beforeNodeAdded(d)!==!1){if("href"in d&&d.href||"src"in d&&d.src){let f,v=new Promise(function(w){f=w});d.addEventListener("load",function(){f()}),a.push(v)}b.appendChild(d),g.callbacks.afterNodeAdded(d),T.push(d)}}for(let l of C)g.callbacks.beforeNodeRemoved(l)!==!1&&(b.removeChild(l),g.callbacks.afterNodeRemoved(l));return g.head.afterHeadMorphed(b,{added:T,kept:y,removed:C}),a}let A=(function(){function b(a,l,d){let{persistentIds:f,idMap:v}=c(a,l),w=E(d),L=w.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes(L))throw`Do not understand how to morph style ${L}`;return{target:a,newContent:l,config:w,morphStyle:L,ignoreActive:w.ignoreActive,ignoreActiveValue:w.ignoreActiveValue,restoreFocus:w.restoreFocus,idMap:v,persistentIds:f,pantry:g(),activeElementAndParents:T(a),callbacks:w.callbacks,head:w.head}}function E(a){let l=Object.assign({},e);return Object.assign(l,a),l.callbacks=Object.assign({},e.callbacks,a.callbacks),l.head=Object.assign({},e.head,a.head),l}function g(){let a=document.createElement("div");return a.hidden=!0,document.body.insertAdjacentElement("afterend",a),a}function T(a){let l=[],d=document.activeElement;if(d?.tagName!=="BODY"&&a.contains(d))for(;d&&(l.push(d),d!==a);)d=d.parentElement;return l}function C(a){let l=Array.from(a.querySelectorAll("[id]"));return a.getAttribute?.("id")&&l.push(a),l}function y(a,l,d,f){for(let v of f){let w=v.getAttribute("id");if(l.has(w)){let L=v;for(;L;){let M=a.get(L);if(M==null&&(M=new Set,a.set(L,M)),M.add(w),L===d)break;L=L.parentElement}}}}function c(a,l){let d=C(a),f=C(l),v=m(d,f),w=new Map;y(w,v,a,d);let L=l.__idiomorphRoot||l;return y(w,v,L,f),{persistentIds:v,idMap:w}}function m(a,l){let d=new Set,f=new Map;for(let{id:w,tagName:L}of a)f.has(w)?d.add(w):f.set(w,L);let v=new Set;for(let{id:w,tagName:L}of l)v.has(w)?d.add(w):f.get(w)===L&&v.add(w);for(let w of d)v.delete(w);return v}return b})(),{normalizeElement:k,normalizeParent:x}=(function(){let b=new WeakSet;function E(y){return y instanceof Document?y.documentElement:y}function g(y){if(y==null)return document.createElement("div");if(typeof y=="string")return g(C(y));if(b.has(y))return y;if(y instanceof Node){if(y.parentNode)return new T(y);{let c=document.createElement("div");return c.append(y),c}}else{let c=document.createElement("div");for(let m of[...y])c.append(m);return c}}class T{constructor(c){this.originalNode=c,this.realParentNode=c.parentNode,this.previousSibling=c.previousSibling,this.nextSibling=c.nextSibling}get childNodes(){let c=[],m=this.previousSibling?this.previousSibling.nextSibling:this.realParentNode.firstChild;for(;m&&m!=this.nextSibling;)c.push(m),m=m.nextSibling;return c}querySelectorAll(c){return this.childNodes.reduce((m,a)=>{if(a instanceof Element){a.matches(c)&&m.push(a);let l=a.querySelectorAll(c);for(let d=0;d<l.length;d++)m.push(l[d])}return m},[])}insertBefore(c,m){return this.realParentNode.insertBefore(c,m)}moveBefore(c,m){return this.realParentNode.moveBefore(c,m)}get __idiomorphRoot(){return this.originalNode}}function C(y){let c=new DOMParser,m=y.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(m.match(/<\/html>/)||m.match(/<\/head>/)||m.match(/<\/body>/)){let a=c.parseFromString(y,"text/html");if(m.match(/<\/html>/))return b.add(a),a;{let l=a.firstChild;return l&&b.add(l),l}}else{let l=c.parseFromString("<body><template>"+y+"</template></body>","text/html").body.querySelector("template").content;return b.add(l),l}}return{normalizeElement:E,normalizeParent:g}})();return{morph:t,defaults:e}})();function vt(r,e,{callbacks:t,...s}={}){Ml.morph(r,e,{...s,callbacks:new br(t)})}function Kr(r,e,t={}){vt(r,e.childNodes,{...t,morphStyle:"innerHTML"})}function Mi(r,e){return r instanceof U&&r.shouldReloadWithMorph&&(!e||Ol(r,e))&&!r.closest("[data-turbo-permanent]")}function Ol(r,e){return e instanceof Element&&e.nodeName==="TURBO-FRAME"&&r.id===e.id&&(!e.getAttribute("src")||Ai(r.src,e.getAttribute("src")))}function Oi(r){return r.parentElement.closest("turbo-frame[src][refresh=morph]")}var br=class{#e;constructor({beforeNodeMorphed:e}={}){this.#e=e||(()=>!0)}beforeNodeAdded=e=>!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id));beforeNodeMorphed=(e,t)=>{if(e instanceof Element)return!e.hasAttribute("data-turbo-permanent")&&this.#e(e,t)?!q("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:t}}).defaultPrevented:!1};beforeAttributeUpdated=(e,t,s)=>!q("turbo:before-morph-attribute",{cancelable:!0,target:t,detail:{attributeName:e,mutationType:s}}).defaultPrevented;beforeNodeRemoved=e=>this.beforeNodeMorphed(e);afterNodeMorphed=(e,t)=>{e instanceof Element&&q("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:t}})}},gt=class extends Ae{static renderElement(e,t){q("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:t}}),Kr(e,t,{callbacks:{beforeNodeMorphed:(s,i)=>Mi(s,i)&&Oi(s)===e?(s.reload(),!1):!0}})}async preservingPermanentElements(e){return await e()}},vr=class r{static animationDuration=300;static get defaultCSS(){return gi`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${r.animationDuration}ms ease-out,
          opacity ${r.animationDuration/2}ms ${r.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}hiding=!1;value=0;visible=!1;constructor(){this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,r.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,r.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}trickle=()=>{this.setValue(this.value+Math.random()/100)};refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let e=document.createElement("style");e.type="text/css",e.textContent=r.defaultCSS;let t=vi();return t&&(e.nonce=t),e}createProgressElement(){let e=document.createElement("div");return e.className="turbo-progress-bar",e}},yr=class extends fe{detailsByOuterHTML=this.children.filter(e=>!Fl(e)).map(e=>Dl(e)).reduce((e,t)=>{let{outerHTML:s}=t,i=s in e?e[s]:{type:ql(t),tracked:Rl(t),elements:[]};return{...e,[s]:{...i,elements:[...i.elements,t]}}},{});get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter(s=>!(s in t.detailsByOuterHTML)).map(s=>this.detailsByOuterHTML[s]).filter(({type:s})=>s==e).map(({elements:[s]})=>s)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,t)=>{let{type:s,tracked:i,elements:n}=this.detailsByOuterHTML[t];return s==null&&!i?[...e,...n]:n.length>1?[...e,...n.slice(1)]:e},[])}getMetaValue(e){let t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((t,s)=>{let{elements:[i]}=this.detailsByOuterHTML[s];return Bl(i,e)?i:t},void 0|void 0)}};function ql(r){if(Pl(r))return"script";if(Il(r))return"stylesheet"}function Rl(r){return r.getAttribute("data-turbo-track")=="reload"}function Pl(r){return r.localName=="script"}function Fl(r){return r.localName=="noscript"}function Il(r){let e=r.localName;return e=="style"||e=="link"&&r.getAttribute("rel")=="stylesheet"}function Bl(r,e){return r.localName=="meta"&&r.getAttribute("name")==e}function Dl(r){return r.hasAttribute("nonce")&&r.setAttribute("nonce",""),r}var $=class r extends fe{static fromHTMLString(e=""){return this.fromDocument(pi(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({documentElement:e,body:t,head:s}){return new this(e,t,new yr(s))}constructor(e,t,s){super(t),this.documentElement=e,this.headSnapshot=s}clone(){let e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),s=e.querySelectorAll("select");for(let[i,n]of t.entries()){let o=s[i];for(let u of o.selectedOptions)u.selected=!1;for(let u of n.selectedOptions)o.options[u.index].selected=!0}for(let i of e.querySelectorAll('input[type="password"]'))i.value="";return new r(this.documentElement,e,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){let e=this.getSetting("root")??"/";return I(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return(this.getSetting("view-transition")==="true"||this.headSnapshot.getMetaValue("view-transition")==="same-origin")&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}},wr=class{#e=!1;#t=Promise.resolve();renderChange(e,t){return e&&this.viewTransitionsAvailable&&!this.#e?(this.#e=!0,this.#t=this.#t.then(async()=>{await document.startViewTransition(t).finished})):this.#t=this.#t.then(t),this.#t}get viewTransitionsAvailable(){return document.startViewTransition}},_l={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},nt={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},K={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},de={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},Nl={advance:"forward",restore:"back",replace:"none"},Er=class{identifier=Z();timingMetrics={};followedRedirect=!1;historyChanged=!1;scrolled=!1;shouldCacheSnapshot=!0;acceptsStreamResponse=!1;snapshotCached=!1;state=K.initialized;viewTransitioner=new wr;constructor(e,t,s,i={}){this.delegate=e,this.location=t,this.restorationIdentifier=s||Z();let{action:n,historyChanged:o,referrer:u,snapshot:p,snapshotHTML:A,response:k,visitCachedSnapshot:x,willRender:b,updateHistory:E,shouldCacheSnapshot:g,acceptsStreamResponse:T,direction:C}={..._l,...i};this.action=n,this.historyChanged=o,this.referrer=u,this.snapshot=p,this.snapshotHTML=A,this.response=k,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=x,this.willRender=b,this.updateHistory=E,this.scrolled=!b,this.shouldCacheSnapshot=g,this.acceptsStreamResponse=T,this.direction=C||Nl[n]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==K.initialized&&(this.recordTimingMetric(nt.visitStart),this.state=K.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==K.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=K.canceled)}complete(){this.state==K.started&&(this.recordTimingMetric(nt.visitEnd),this.adapter.visitCompleted(this),this.state=K.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==K.started&&(this.state=K.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){if(!this.historyChanged&&this.updateHistory){let e=this.location.href===this.referrer?.href?"replace":this.action,t=bi(e);this.history.update(t,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new oe(this,j.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(nt.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){let{statusCode:t}=e;li(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(nt.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,li(e)&&t!=null){let s=$.fromHTMLString(t);await this.renderPageSnapshot(s,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError($.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){let e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!ne(this.location)||e.hasAnchor(ne(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return $.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let e=this.getCachedSnapshot();if(e){let t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(e,t),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){this.redirectedToLocation&&!this.followedRedirect&&this.response?.redirected&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(Y.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){let s=await t.responseHTML,{redirected:i,statusCode:n}=t;s==null?this.recordResponse({statusCode:de.contentTypeMismatch,redirected:i}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:n,responseHTML:s,redirected:i}))}async requestFailedWithResponse(e,t){let s=await t.responseHTML,{redirected:i,statusCode:n}=t;s==null?this.recordResponse({statusCode:de.contentTypeMismatch,redirected:i}):this.recordResponse({statusCode:n,responseHTML:s,redirected:i})}requestErrored(e,t){this.recordResponse({statusCode:de.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){let e=ne(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>t(),0):requestAnimationFrame(()=>t())}),await e(),delete this.frame}async renderPageSnapshot(e,t){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(e),async()=>{await this.view.renderPage(e,t,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};function li(r){return r>=200&&r<300}var Sr=class{progressBar=new vr;constructor(e){this.session=e}visitProposedToLocation(e,t){Q(e,this.navigator.rootLocation)?this.navigator.startVisit(e,t?.restorationIdentifier||Z(),t):window.location.href=e.toString()}visitStarted(e){this.location=e.location,this.redirectedToLocation=null,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse(),e.response.redirected&&(this.redirectedToLocation=e.redirectedToLocation)}visitRequestFailedWithStatusCode(e,t){switch(t){case de.networkFailure:case de.timeoutFailure:case de.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){}visitCompleted(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(e){this.reload(e)}visitFailed(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(e){}linkPrefetchingIsEnabledForLocation(e){return!0}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}showProgressBar=()=>{this.progressBar.show()};reload(e){q("turbo:reload",{detail:e}),window.location.href=(this.redirectedToLocation||this.location)?.toString()||window.location.href}get navigator(){return this.session.navigator}},Ar=class{selector="[data-turbo-temporary]";deprecatedSelector="[data-turbo-cache=false]";started=!1;start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}removeTemporaryElements=e=>{for(let t of this.temporaryElements)t.remove()};get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}},Tr=class{constructor(e,t){this.session=e,this.element=t,this.linkInterceptor=new dt(this,t),this.formSubmitObserver=new Ee(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,s){return this.#t(e)}linkClickIntercepted(e,t,s){let i=this.#r(e);i&&i.delegate.linkClickIntercepted(e,t,s)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&this.#e(e,t)&&this.#t(e,t)}formSubmitted(e,t){let s=this.#r(e,t);s&&s.delegate.formSubmitted(e,t)}#e(e,t){let s=Ur(e,t),i=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),n=I(i?.content??"/");return this.#t(e,t)&&Q(s,n)}#t(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){let i=this.#r(e,t);return i?i!=e.closest("turbo-frame"):!1}else return!1}#r(e,t){let s=t?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(s&&s!="_top"){let i=this.element.querySelector(`#${s}:not([disabled])`);if(i instanceof U)return i}}},Cr=class{location;restorationIdentifier=Z();restorationData={};started=!1;pageLoaded=!1;currentIndex=0;constructor(e){this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=history.state?.turbo?.restorationIndex||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,s=Z()){e===history.pushState&&++this.currentIndex;let i={turbo:{restorationIdentifier:s,restorationIndex:this.currentIndex}};e.call(history,i,"",t.href),this.location=t,this.restorationIdentifier=s}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){let{restorationIdentifier:t}=this,s=this.restorationData[t];this.restorationData[t]={...s,...e}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}onPopState=e=>{if(this.shouldHandlePopState()){let{turbo:t}=e.state||{};if(t){this.location=new URL(window.location.href);let{restorationIdentifier:s,restorationIndex:i}=t;this.restorationIdentifier=s;let n=i>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,s,n),this.currentIndex=i}}};onPageLoad=async e=>{await Za(),this.pageLoaded=!0};shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},kr=class{started=!1;#e=null;constructor(e,t){this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",this.#t,{once:!0}):this.#t())}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",this.#r,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",this.#n,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",this.#i,!0),this.started=!1)}#t=()=>{this.eventTarget.addEventListener("mouseenter",this.#r,{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",this.#n,{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",this.#i,!0),this.started=!0};#r=e=>{if(ct("turbo-prefetch")==="false")return;let t=e.target;if(t.matches&&t.matches("a[href]:not([target^=_]):not([download])")&&this.#l(t)){let i=t,n=Si(i);if(this.delegate.canPrefetchRequestToLocation(i,n)){this.#e=i;let o=new oe(this,j.get,n,new URLSearchParams,t);o.fetchOptions.priority="low",ue.setLater(n.toString(),o,this.#s)}}};#n=e=>{e.target===this.#e&&this.#o()};#o=()=>{ue.clear(),this.#e=null};#i=e=>{if(e.target.tagName!=="FORM"&&e.detail.fetchOptions.method==="GET"){let t=ue.get(e.detail.url.toString());t&&(e.detail.fetchRequest=t),ue.clear()}};prepareRequest(e){let t=e.target;e.headers["X-Sec-Purpose"]="prefetch";let s=t.closest("turbo-frame"),i=t.getAttribute("data-turbo-frame")||s?.getAttribute("target")||s?.id;i&&i!=="_top"&&(e.headers["Turbo-Frame"]=i)}requestSucceededWithResponse(){}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}get#s(){return Number(ct("turbo-prefetch-cache-time"))||gl}#l(e){return!(!e.getAttribute("href")||Hl(e)||jl(e)||Vl(e)||$l(e)||zl(e))}},Hl=r=>r.origin!==document.location.origin||!["http:","https:"].includes(r.protocol)||r.hasAttribute("target"),jl=r=>r.pathname+r.search===document.location.pathname+document.location.search||r.href.startsWith("#"),Vl=r=>{if(r.getAttribute("data-turbo-prefetch")==="false"||r.getAttribute("data-turbo")==="false")return!0;let e=he(r,"[data-turbo-prefetch]");return!!(e&&e.getAttribute("data-turbo-prefetch")==="false")},$l=r=>{let e=r.getAttribute("data-turbo-method");return!!(e&&e.toLowerCase()!=="get"||Ul(r)||r.hasAttribute("data-turbo-confirm")||r.hasAttribute("data-turbo-stream"))},Ul=r=>r.hasAttribute("data-remote")||r.hasAttribute("data-behavior")||r.hasAttribute("data-confirm")||r.hasAttribute("data-method"),zl=r=>q("turbo:before-prefetch",{target:r,cancelable:!0}).defaultPrevented,Lr=class{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&this.delegate.visitProposedToLocation(e,t)}startVisit(e,t,s={}){this.stop(),this.currentVisit=new Er(this,I(e),t,{referrer:this.location,...s}),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new ut(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){let s=await t.responseHTML;if(s){let i=e.isSafe;i||this.view.clearSnapshotCache();let{statusCode:n,redirected:o}=t,p={action:this.#e(e,t),shouldCacheSnapshot:i,response:{statusCode:n,responseHTML:s,redirected:o}};this.proposeVisit(t.location,p)}}}async formSubmissionFailedWithResponse(e,t){let s=await t.responseHTML;if(s){let i=$.fromHTMLString(s);t.serverError?await this.view.renderError(i,this.currentVisit):await this.view.renderPage(i,!1,!0,this.currentVisit),i.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}linkPrefetchingIsEnabledForLocation(e){return typeof this.adapter.linkPrefetchingIsEnabledForLocation=="function"?this.adapter.linkPrefetchingIsEnabledForLocation(e):!0}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e),delete this.currentVisit}locationWithActionIsSamePage(e,t){let s=ne(e),i=ne(this.view.lastRenderedLocation),n=t==="restore"&&typeof s>"u";return t!=="replace"&&dr(e)===dr(this.view.lastRenderedLocation)&&(n||s!=null&&s!==i)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}#e(e,t){let{submitter:s,formElement:i}=e;return ie(s,i)||this.#t(t)}#t(e){return e.redirected&&e.location.href===this.location?.href?"replace":"advance"}},re={initial:0,loading:1,interactive:2,complete:3},xr=class{stage=re.initial;started=!1;constructor(e){this.delegate=e}start(){this.started||(this.stage==re.initial&&(this.stage=re.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}interpretReadyState=()=>{let{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()};pageIsInteractive(){this.stage==re.loading&&(this.stage=re.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==re.interactive&&(this.stage=re.complete,this.delegate.pageLoaded())}pageWillUnload=()=>{this.delegate.pageWillUnload()};get readyState(){return document.readyState}},Mr=class{started=!1;constructor(e){this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})};updatePosition(e){this.delegate.scrollPositionChanged(e)}},Or=class{render({fragment:e}){pt.preservingPermanentElements(this,Wl(e),()=>{Kl(e,()=>{Gl(()=>{document.documentElement.appendChild(e)})})})}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}};function Wl(r){let e=xi(document.documentElement),t={};for(let s of e){let{id:i}=s;for(let n of r.querySelectorAll("turbo-stream")){let o=Li(n.templateElement.content,i);o&&(t[i]=[s,o])}}return t}async function Kl(r,e){let t=`turbo-stream-autofocus-${Z()}`,s=r.querySelectorAll("turbo-stream"),i=Jl(s),n=null;if(i&&(i.id?n=i.id:n=t,i.id=n),e(),await ve(),(document.activeElement==null||document.activeElement==document.body)&&n){let u=document.getElementById(n);$r(u)&&u.focus(),u&&u.id==t&&u.removeAttribute("id")}}async function Gl(r){let[e,t]=await il(r,()=>document.activeElement),s=e&&e.id;if(s){let i=document.getElementById(s);$r(i)&&i!=t&&i.focus()}}function Jl(r){for(let e of r){let t=yi(e.templateElement.content);if(t)return t}return null}var qr=class{sources=new Set;#e=!1;constructor(e){this.delegate=e}start(){this.#e||(this.#e=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.#e&&(this.#e=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}inspectFetchResponse=e=>{let t=Xl(e);t&&Ql(t)&&(e.preventDefault(),this.receiveMessageResponse(t))};receiveMessageEvent=e=>{this.#e&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)};async receiveMessageResponse(e){let t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(Y.wrap(e))}};function Xl(r){let e=r.detail?.fetchResponse;if(e instanceof we)return e}function Ql(r){return(r.contentType??"").startsWith(Y.contentType)}var Rr=class extends Se{static renderElement(e,t){let{documentElement:s,body:i}=document;s.replaceChild(t,i)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let e of this.scriptElements){let t=e.parentNode;if(t){let s=ye(e);t.replaceChild(s,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},Te=class extends Se{static renderElement(e,t){document.body&&t instanceof HTMLBodyElement?document.body.replaceWith(t):document.documentElement.appendChild(t)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){this.#e(),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}#e(){let{documentElement:e}=this.currentSnapshot,{lang:t}=this.newSnapshot;t?e.setAttribute("lang",t):e.removeAttribute("lang")}async mergeHead(){let e=this.mergeProvisionalElements(),t=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await t,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let e=[];for(let t of this.newHeadStylesheetElements)e.push(tl(t)),document.head.appendChild(t);await Promise.all(e)}copyNewHeadScriptElements(){for(let e of this.newHeadScriptElements)document.head.appendChild(ye(e))}removeUnusedDynamicStylesheetElements(){for(let e of this.unusedDynamicStylesheetElements)document.head.removeChild(e)}async mergeProvisionalElements(){let e=[...this.newHeadProvisionalElements];for(let t of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(t,e)||document.head.removeChild(t);for(let t of e)document.head.appendChild(t)}isCurrentElementInElementList(e,t){for(let[s,i]of t.entries()){if(e.tagName=="TITLE"){if(i.tagName!="TITLE")continue;if(e.innerHTML==i.innerHTML)return t.splice(s,1),!0}if(i.isEqualNode(e))return t.splice(s,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(let e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let e of this.newBodyScriptElements){let t=ye(e);e.replaceWith(t)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(e=>e.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}},bt=class extends Te{static renderElement(e,t){vt(e,t,{callbacks:{beforeNodeMorphed:(s,i)=>Mi(s,i)&&!Oi(s)?(s.reload(),!1):!0}}),q("turbo:morph",{detail:{currentElement:e,newElement:t}})}async preservingPermanentElements(e){return await e()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}},Pr=class{keys=[];snapshots={};constructor(e){this.size=e}has(e){return it(e)in this.snapshots}get(e){if(this.has(e)){let t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[it(e)]}write(e,t){this.snapshots[it(e)]=t}touch(e){let t=it(e),s=this.keys.indexOf(t);s>-1&&this.keys.splice(s,1),this.keys.unshift(t),this.trim()}trim(){for(let e of this.keys.splice(this.size))delete this.snapshots[e]}},Fr=class extends ht{snapshotCache=new Pr(10);lastRenderedLocation=new URL(location.href);forceReloaded=!1;shouldTransitionTo(e){return this.snapshot.prefersViewTransitions&&e.prefersViewTransitions}renderPage(e,t=!1,s=!0,i){let o=this.isPageRefresh(i)&&this.snapshot.shouldMorphPage?bt:Te,u=new o(this.snapshot,e,t,s);return u.shouldRender?i?.changeHistory():this.forceReloaded=!0,this.render(u)}renderError(e,t){t?.changeHistory();let s=new Rr(this.snapshot,e,!1);return this.render(s)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:t}=this;await mi();let s=e.clone();return this.snapshotCache.put(t,s),s}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}isPageRefresh(e){return!e||this.lastRenderedLocation.pathname===e.location.pathname&&e.action==="replace"}shouldPreserveScrollPosition(e){return this.isPageRefresh(e)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return $.fromElement(this.element)}},Ir=class{selector="a[data-turbo-preload]";constructor(e,t){this.delegate=e,this.snapshotCache=t}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",this.#e):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",this.#e)}preloadOnLoadLinksForView(e){for(let t of e.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(t)&&this.preloadURL(t)}async preloadURL(e){let t=new URL(e.href);if(this.snapshotCache.has(t))return;await new oe(this,j.get,t,new URLSearchParams,e).perform()}prepareRequest(e){e.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(e,t){try{let s=await t.responseHTML,i=$.fromHTMLString(s);this.snapshotCache.put(e.url,i)}catch{}}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}#e=()=>{this.preloadOnLoadLinksForView(document.body)}},Br=class{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.#e("")}exemptPageFromCache(){this.#e("no-cache")}exemptPageFromPreview(){this.#e("no-preview")}#e(e){sl("turbo-cache-control",e)}},Dr=class{navigator=new Lr(this);history=new Cr(this);view=new Fr(this,document.documentElement);adapter=new Sr(this);pageObserver=new xr(this);cacheObserver=new Ar;linkPrefetchObserver=new kr(this,document);linkClickObserver=new ft(this,window);formSubmitObserver=new Ee(this,document);scrollObserver=new Mr(this);streamObserver=new qr(this);formLinkClickObserver=new mt(this,document.documentElement);frameRedirector=new Tr(this,document.documentElement);streamMessageRenderer=new Or;cache=new Br(this);enabled=!0;started=!1;#e=150;constructor(e){this.recentRequests=e,this.preloader=new Ir(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){let s=t.frame?document.getElementById(t.frame):null;if(s instanceof U){let i=t.action||ie(s);s.delegate.proposeVisitIfNavigatedWithAction(s,i),s.src=e.toString()}else this.navigator.proposeVisit(I(e),t)}refresh(e,t){let s=t&&this.recentRequests.has(t),i=e===document.baseURI;!s&&!this.navigator.currentVisit&&i&&this.visit(e,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(Y.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=e}set progressBarDelay(e){F.drive.progressBarDelay=e}get progressBarDelay(){return F.drive.progressBarDelay}set drive(e){F.drive.enabled=e}get drive(){return F.drive.enabled}set formMode(e){F.forms.mode=e}get formMode(){return F.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return this.#e}set pageRefreshDebouncePeriod(e){this.refresh=nl(this.debouncedRefresh.bind(this),e),this.#e=e}shouldPreloadLink(e){let t=e.hasAttribute("data-turbo-method"),s=e.hasAttribute("data-turbo-stream"),i=e.getAttribute("data-turbo-frame"),n=i=="_top"?null:document.getElementById(i)||he(e,"turbo-frame:not([disabled])");if(t||s||n instanceof U)return!1;{let o=new URL(e.href);return this.elementIsNavigatable(e)&&Q(o,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(e,t,s){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0,direction:s}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&Q(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(e,t){return this.elementIsNavigatable(e)&&Q(t,this.snapshot.rootLocation)&&this.navigator.linkPrefetchingIsEnabledForLocation(t)}willFollowLinkToLocation(e,t,s){return this.elementIsNavigatable(e)&&Q(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,s)}followedLinkToLocation(e,t){let s=this.getActionForLink(e),i=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:s,acceptsStreamResponse:i})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){ci(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||(at(document.documentElement),this.view.markVisitDirection(e.direction)),ci(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.view.unmarkVisitDirection(),lt(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){let s=Ur(e,t);return this.submissionIsNavigatable(e,t)&&Q(I(s),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){this.navigator.currentVisit?.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){let s=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:i,detail:{render:n}}=s;return this.view.renderer&&n&&(this.view.renderer.renderElement=n),!i}viewRenderedSnapshot(e,t,s){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(s)}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,s){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,s).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,s){return q("turbo:click",{target:e,detail:{url:t.href,originalEvent:s},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return q("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return q("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return q("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return q("turbo:before-render",{detail:{newBody:e,...t},cancelable:!0})}notifyApplicationAfterRender(e){return q("turbo:render",{detail:{renderMethod:e}})}notifyApplicationAfterPageLoad(e={}){return q("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return q("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return q("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(F.forms.mode=="off")return!1;{let s=t?this.elementIsNavigatable(t):!0;return F.forms.mode=="optin"?s&&e.closest('[data-turbo="true"]')!=null:s&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){let t=he(e,"[data-turbo]"),s=he(e,"turbo-frame");return F.drive.enabled||s?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return ie(e)||"advance"}get snapshot(){return this.view.snapshot}};function ci(r){Object.defineProperties(r,Zl)}var Zl={absoluteURL:{get(){return this.toString()}}},R=new Dr(Ti),{cache:Yl,navigator:Gr}=R;function qi(){R.start()}function ec(r){R.registerAdapter(r)}function tc(r,e){R.visit(r,e)}function Ri(r){R.connectStreamSource(r)}function Pi(r){R.disconnectStreamSource(r)}function rc(r){R.renderStreamMessage(r)}function sc(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),R.clearCache()}function ic(r){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),F.drive.progressBarDelay=r}function nc(r){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),F.forms.confirm=r}function oc(r){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),F.forms.mode=r}function ac(r,e){bt.renderElement(r,e)}function lc(r,e){gt.renderElement(r,e)}var cc=Object.freeze({__proto__:null,navigator:Gr,session:R,cache:Yl,PageRenderer:Te,PageSnapshot:$,FrameRenderer:Ae,fetch:Ci,config:F,start:qi,registerAdapter:ec,visit:tc,connectStreamSource:Ri,disconnectStreamSource:Pi,renderStreamMessage:rc,clearCache:sc,setProgressBarDelay:ic,setConfirmMethod:nc,setFormMode:oc,morphBodyElements:ac,morphTurboFrameElements:lc,morphChildren:Kr,morphElements:vt}),_r=class extends Error{},Nr=class{fetchResponseLoaded=e=>Promise.resolve();#e=null;#t=()=>{};#r=!1;#n=!1;#o=new Set;#i=!1;action=null;constructor(e){this.element=e,this.view=new gr(this,this.element),this.appearanceObserver=new mr(this,this.element),this.formLinkClickObserver=new mt(this,this.element),this.linkInterceptor=new dt(this,this.element),this.restorationIdentifier=Z(),this.formSubmitObserver=new Ee(this,this.element)}connect(){this.#r||(this.#r=!0,this.loadingStyle==ce.lazy?this.appearanceObserver.start():this.#s(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.#r&&(this.#r=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==ce.eager&&this.#s()}sourceURLChanged(){this.#v("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==ce.eager||this.#n)&&this.#s())}sourceURLReloaded(){let{refresh:e,src:t}=this.element;return this.#i=t&&e==="morph",this.element.removeAttribute("complete"),this.element.src=null,this.element.src=t,this.element.loaded}loadingStyleChanged(){this.loadingStyle==ce.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.#s())}async#s(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.#h(I(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.#n=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{let t=await e.responseHTML;if(t){let s=pi(t);$.fromDocument(s).isVisitable?await this.#l(e,s):await this.#f(e)}}finally{this.#i=!1,this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,ie(e)),this.#s()}willSubmitFormLinkToLocation(e){return this.#c(e)}submittedFormLinkToLocation(e,t,s){let i=this.#a(e);i&&s.setAttribute("data-turbo-frame",i.id)}shouldInterceptLinkClick(e,t,s){return this.#c(e)}linkClickIntercepted(e,t){this.#d(e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&this.#c(e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new ut(this,e,t);let{fetchRequest:s}=this.formSubmission;this.prepareRequest(s),this.formSubmission.start()}prepareRequest(e){e.headers["Turbo-Frame"]=this.id,this.currentNavigationElement?.hasAttribute("data-turbo-stream")&&e.acceptResponseType(Y.contentType)}requestStarted(e){at(this.element)}requestPreventedHandlingResponse(e,t){this.#t()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.#t()}async requestFailedWithResponse(e,t){await this.loadResponse(t),this.#t()}requestErrored(e,t){console.error(t),this.#t()}requestFinished(e){lt(this.element)}formSubmissionStarted({formElement:e}){at(e,this.#a(e))}formSubmissionSucceededWithResponse(e,t){let s=this.#a(e.formElement,e.submitter);s.delegate.proposeVisitIfNavigatedWithAction(s,ie(e.submitter,e.formElement,s)),s.delegate.loadResponse(t),e.isSafe||R.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),R.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){lt(e,this.#a(e))}allowsImmediateRender({element:e},t){let s=q("turbo:before-frame-render",{target:this.element,detail:{newFrame:e,...t},cancelable:!0}),{defaultPrevented:i,detail:{render:n}}=s;return this.view.renderer&&n&&(this.view.renderer.renderElement=n),!i}viewRenderedSnapshot(e,t,s){}preloadOnLoadLinksForView(e){R.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}visitCachedSnapshot=({element:e})=>{let t=e.querySelector("#"+this.element.id);t&&this.previousFrameElement&&t.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement};async#l(e,t){let s=await this.extractForeignFrameElement(t.body),i=this.#i?gt:Ae;if(s){let n=new fe(s),o=new i(this,this.view.snapshot,n,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(o),this.complete=!0,R.frameRendered(e,this.element),R.frameLoaded(this.element),await this.fetchResponseLoaded(e)}else this.#m(e)&&this.#p(e)}async#h(e){let t=new oe(this,j.get,e,new URLSearchParams,this.element);return this.#e?.cancel(),this.#e=t,new Promise(s=>{this.#t=()=>{this.#t=()=>{},this.#e=null,s()},t.perform()})}#d(e,t,s){let i=this.#a(e,s);i.delegate.proposeVisitIfNavigatedWithAction(i,ie(s,e,i)),this.#w(e,()=>{i.src=t})}proposeVisitIfNavigatedWithAction(e,t=null){if(this.action=t,this.action){let s=$.fromElement(e).clone(),{visitCachedSnapshot:i}=e.delegate;e.delegate.fetchResponseLoaded=async n=>{if(e.src){let{statusCode:o,redirected:u}=n,p=await n.responseHTML,k={response:{statusCode:o,redirected:u,responseHTML:p},visitCachedSnapshot:i,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:s};this.action&&(k.action=this.action),R.visit(e.src,k)}}}}changeHistory(){if(this.action){let e=bi(this.action);R.history.update(e,I(this.element.src||""),this.restorationIdentifier)}}async#f(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.#u(e.response)}#m(e){this.element.setAttribute("complete","");let t=e.response,s=async(n,o)=>{n instanceof Response?this.#u(n):R.visit(n,o)};return!q("turbo:frame-missing",{target:this.element,detail:{response:t,visit:s},cancelable:!0}).defaultPrevented}#p(e){this.view.missing(),this.#g(e)}#g(e){let t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new _r(t)}async#u(e){let t=new we(e),s=await t.responseHTML,{location:i,redirected:n,statusCode:o}=t;return R.visit(i,{response:{redirected:n,statusCode:o,responseHTML:s}})}#a(e,t){let s=ot("data-turbo-frame",t,e)||this.element.getAttribute("target");return ui(s)??this.element}async extractForeignFrameElement(e){let t,s=CSS.escape(this.id);try{if(t=hi(e.querySelector(`turbo-frame#${s}`),this.sourceURL),t)return t;if(t=hi(e.querySelector(`turbo-frame[src][recurse~=${s}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(i){return console.error(i),new U}return null}#b(e,t){let s=Ur(e,t);return Q(I(s),this.rootLocation)}#c(e,t){let s=ot("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.#b(e,t)||!this.enabled||s=="_top")return!1;if(s){let i=ui(s);if(i)return!i.disabled}return!(!R.elementIsNavigatable(e)||t&&!R.elementIsNavigatable(t))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.#y("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.#t()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&this.#r}get rootLocation(){let t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]')?.content??"/";return I(t)}#v(e){return this.#o.has(e)}#y(e,t){this.#o.add(e),t(),this.#o.delete(e)}#w(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement}};function ui(r){if(r!=null){let e=document.getElementById(r);if(e instanceof U)return e}}function hi(r,e){if(r){let t=r.getAttribute("src");if(t!=null&&e!=null&&Ai(t,e))throw new Error(`Matching <turbo-frame id="${r.id}"> element has a source URL which references itself`);if(r.ownerDocument!==document&&(r=document.importNode(r,!0)),r instanceof U)return r.connectedCallback(),r.disconnectedCallback(),r}}var Fi={after(){this.targetElements.forEach(r=>r.parentElement?.insertBefore(this.templateContent,r.nextSibling))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(r=>r.append(this.templateContent))},before(){this.targetElements.forEach(r=>r.parentElement?.insertBefore(this.templateContent,r))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(r=>r.prepend(this.templateContent))},remove(){this.targetElements.forEach(r=>r.remove())},replace(){let r=this.getAttribute("method");this.targetElements.forEach(e=>{r==="morph"?vt(e,this.templateContent):e.replaceWith(this.templateContent)})},update(){let r=this.getAttribute("method");this.targetElements.forEach(e=>{r==="morph"?Kr(e,this.templateContent):(e.innerHTML="",e.append(this.templateContent))})},refresh(){R.refresh(this.baseURI,this.requestId)}},Hr=class r extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){return this.renderPromise??=(async()=>{let e=this.beforeRenderEvent;this.dispatchEvent(e)&&(await ve(),await e.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){let e=this.targetElements.flatMap(s=>[...s.children]).filter(s=>!!s.getAttribute("id")),t=[...this.templateContent?.children||[]].filter(s=>!!s.getAttribute("id")).map(s=>s.getAttribute("id"));return e.filter(s=>t.includes(s.getAttribute("id")))}get performAction(){if(this.action){let e=Fi[this.action];if(e)return e;this.#e("unknown action")}this.#e("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.#e("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.#e("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}#e(e){throw new Error(`${this.description}: ${e}`)}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:r.renderElement}})}get targetElementsById(){let e=this.ownerDocument?.getElementById(this.target);return e!==null?[e]:[]}get targetElementsByQuery(){let e=this.ownerDocument?.querySelectorAll(this.targets);return e.length!==0?Array.prototype.slice.call(e):[]}},jr=class extends HTMLElement{streamSource=null;connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Ri(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),Pi(this.streamSource))}get src(){return this.getAttribute("src")||""}};U.delegateConstructor=Nr;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",U);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",Hr);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",jr);(()=>{let r=document.currentScript;if(r&&!r.hasAttribute("data-turbo-suppress-warning"))for(r=r.parentElement;r;){if(r==document.body)return console.warn(gi`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,r.outerHTML);r=r.parentElement}})();window.Turbo={...cc,StreamActions:Fi};qi();var Jr=class{constructor(e,t,s){this.eventTarget=e,this.eventName=t,this.eventOptions=s,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let t=hc(e);for(let s of this.bindings){if(t.immediatePropagationStopped)break;s.handleEvent(t)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,t)=>{let s=e.index,i=t.index;return s<i?-1:s>i?1:0})}};function hc(r){if("immediatePropagationStopped"in r)return r;{let{stopImmediatePropagation:e}=r;return Object.assign(r,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var Xr=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,t)=>e.concat(Array.from(t.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)}handleError(e,t,s={}){this.application.handleError(e,`Error ${t}`,s)}clearEventListenersForBinding(e){let t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:t,eventName:s,eventOptions:i}=e,n=this.fetchEventListenerMapForEventTarget(t),o=this.cacheKey(s,i);n.delete(o),n.size==0&&this.eventListenerMaps.delete(t)}fetchEventListenerForBinding(e){let{eventTarget:t,eventName:s,eventOptions:i}=e;return this.fetchEventListener(t,s,i)}fetchEventListener(e,t,s){let i=this.fetchEventListenerMapForEventTarget(e),n=this.cacheKey(t,s),o=i.get(n);return o||(o=this.createEventListener(e,t,s),i.set(n,o)),o}createEventListener(e,t,s){let i=new Jr(e,t,s);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){let s=[e];return Object.keys(t).sort().forEach(i=>{s.push(`${t[i]?"":"!"}${i}`)}),s.join(":")}},dc={stop({event:r,value:e}){return e&&r.stopPropagation(),!0},prevent({event:r,value:e}){return e&&r.preventDefault(),!0},self({event:r,value:e,element:t}){return e?t===r.target:!0}},fc=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function mc(r){let t=r.trim().match(fc)||[],s=t[2],i=t[3];return i&&!["keydown","keyup","keypress"].includes(s)&&(s+=`.${i}`,i=""),{eventTarget:pc(t[4]),eventName:s,eventOptions:t[7]?gc(t[7]):{},identifier:t[5],methodName:t[6],keyFilter:t[1]||i}}function pc(r){if(r=="window")return window;if(r=="document")return document}function gc(r){return r.split(":").reduce((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)}),{})}function bc(r){if(r==window)return"window";if(r==document)return"document"}function vs(r){return r.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function Qr(r){return vs(r.replace(/--/g,"-").replace(/__/g,"_"))}function ke(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Ui(r){return r.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function vc(r){return r.match(/[^\s]+/g)||[]}function Ii(r){return r!=null}function Zr(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var Bi=["meta","ctrl","alt","shift"],Yr=class{constructor(e,t,s,i){this.element=e,this.index=t,this.eventTarget=s.eventTarget||e,this.eventName=s.eventName||yc(e)||yt("missing event name"),this.eventOptions=s.eventOptions||{},this.identifier=s.identifier||yt("missing identifier"),this.methodName=s.methodName||yt("missing method name"),this.keyFilter=s.keyFilter||"",this.schema=i}static forToken(e,t){return new this(e.element,e.index,mc(e.content),t)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",t=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${t}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let t=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,t))return!0;let s=t.filter(i=>!Bi.includes(i))[0];return s?(Zr(this.keyMappings,s)||yt(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[s].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let t=[this.keyFilter];return!!this.keyFilterDissatisfied(e,t)}get params(){let e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:s,value:i}of Array.from(this.element.attributes)){let n=s.match(t),o=n&&n[1];o&&(e[vs(o)]=wc(i))}return e}get eventTargetName(){return bc(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,t){let[s,i,n,o]=Bi.map(u=>t.includes(u));return e.metaKey!==s||e.ctrlKey!==i||e.altKey!==n||e.shiftKey!==o}},Di={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:r=>r.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function yc(r){let e=r.tagName.toLowerCase();if(e in Di)return Di[e](r)}function yt(r){throw new Error(r)}function wc(r){try{return JSON.parse(r)}catch{return r}}var es=class{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let t=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(t)&&this.invokeWithEvent(t)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:t}=this.action,{actionDescriptorFilters:s}=this.context.application,{controller:i}=this.context,n=!0;for(let[o,u]of Object.entries(this.eventOptions))if(o in s){let p=s[o];n=n&&p({name:o,value:u,event:e,element:t,controller:i})}else continue;return n}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:t,currentTarget:s}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:s,action:this.methodName})}catch(i){let{identifier:n,controller:o,element:u,index:p}=this,A={identifier:n,controller:o,element:u,index:p,event:e};this.context.handleError(i,`invoking action "${this.action}"`,A)}}willBeInvokedByEvent(e){let t=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===t?!0:t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},wt=class{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(s=>this.processMutations(s))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(let t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(let t of e)this.processMutation(t)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,t):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let t of Array.from(e)){let s=this.elementFromNode(t);s&&this.processTree(s,this.removeElement)}}processAddedNodes(e){for(let t of Array.from(e)){let s=this.elementFromNode(t);s&&this.elementIsActive(s)&&this.processTree(s,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(let s of this.matchElementsInTree(e))t.call(this,s)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},Et=class{constructor(e,t,s){this.attributeName=t,this.delegate=s,this.elementObserver=new wt(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let t=this.matchElement(e)?[e]:[],s=Array.from(e.querySelectorAll(this.selector));return t.concat(s)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}};function Ec(r,e,t){zi(r,e).add(t)}function Sc(r,e,t){zi(r,e).delete(t),Ac(r,e)}function zi(r,e){let t=r.get(e);return t||(t=new Set,r.set(e,t)),t}function Ac(r,e){let t=r.get(e);t!=null&&t.size==0&&r.delete(e)}var G=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((t,s)=>t.concat(Array.from(s)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((t,s)=>t+s.size,0)}add(e,t){Ec(this.valuesByKey,e,t)}delete(e,t){Sc(this.valuesByKey,e,t)}has(e,t){let s=this.valuesByKey.get(e);return s!=null&&s.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(s=>s.has(e))}getValuesForKey(e){let t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([t,s])=>s.has(e)).map(([t,s])=>t)}};var ts=class{constructor(e,t,s,i){this._selector=t,this.details=i,this.elementObserver=new wt(e,this),this.delegate=s,this.matchesByElement=new G}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:t}=this;if(t){let s=e.matches(t);return this.delegate.selectorMatchElement?s&&this.delegate.selectorMatchElement(e,this.details):s}else return!1}matchElementsInTree(e){let{selector:t}=this;if(t){let s=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(t)).filter(n=>this.matchElement(n));return s.concat(i)}else return[]}elementMatched(e){let{selector:t}=this;t&&this.selectorMatched(e,t)}elementUnmatched(e){let t=this.matchesByElement.getKeysForValue(e);for(let s of t)this.selectorUnmatched(e,s)}elementAttributeChanged(e,t){let{selector:s}=this;if(s){let i=this.matchElement(e),n=this.matchesByElement.has(s,e);i&&!n?this.selectorMatched(e,s):!i&&n&&this.selectorUnmatched(e,s)}}selectorMatched(e,t){this.delegate.selectorMatched(e,t,this.details),this.matchesByElement.add(t,e)}selectorUnmatched(e,t){this.delegate.selectorUnmatched(e,t,this.details),this.matchesByElement.delete(t,e)}},rs=class{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(s=>this.processMutations(s))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let t of e)this.processMutation(t)}processMutation(e){let t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){let s=this.delegate.getStringMapKeyForAttribute(e);if(s!=null){this.stringMap.has(e)||this.stringMapKeyAdded(s,e);let i=this.element.getAttribute(e);if(this.stringMap.get(e)!=i&&this.stringMapValueChanged(i,s,t),i==null){let n=this.stringMap.get(e);this.stringMap.delete(e),n&&this.stringMapKeyRemoved(s,e,n)}else this.stringMap.set(e,i)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,s){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,s)}stringMapKeyRemoved(e,t,s){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,s)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},St=class{constructor(e,t,s){this.attributeObserver=new Et(e,t,this),this.delegate=s,this.tokensByElement=new G}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[t,s]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(s)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(t=>this.tokenMatched(t))}tokensUnmatched(e){e.forEach(t=>this.tokenUnmatched(t))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let t=this.tokensByElement.getValuesForKey(e),s=this.readTokensForElement(e),i=Cc(t,s).findIndex(([n,o])=>!kc(n,o));return i==-1?[[],[]]:[t.slice(i),s.slice(i)]}readTokensForElement(e){let t=this.attributeName,s=e.getAttribute(t)||"";return Tc(s,e,t)}};function Tc(r,e,t){return r.trim().split(/\s+/).filter(s=>s.length).map((s,i)=>({element:e,attributeName:t,content:s,index:i}))}function Cc(r,e){let t=Math.max(r.length,e.length);return Array.from({length:t},(s,i)=>[r[i],e[i]])}function kc(r,e){return r&&e&&r.index==e.index&&r.content==e.content}var At=class{constructor(e,t,s){this.tokenListObserver=new St(e,t,this),this.delegate=s,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:t}=e,{value:s}=this.fetchParseResultForToken(e);s&&(this.fetchValuesByTokenForElement(t).set(e,s),this.delegate.elementMatchedValue(t,s))}tokenUnmatched(e){let{element:t}=e,{value:s}=this.fetchParseResultForToken(e);s&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,s))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(t){return{error:t}}}},ss=class{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new At(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let t=new es(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){let t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let t=Yr.forToken(e,this.schema);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}},is=class{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new rs(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){let s=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,s.writer(this.receiver[e]),s.writer(s.defaultValue))}stringMapValueChanged(e,t,s){let i=this.valueDescriptorNameMap[t];e!==null&&(s===null&&(s=i.writer(i.defaultValue)),this.invokeChangedCallback(t,e,s))}stringMapKeyRemoved(e,t,s){let i=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,i.writer(this.receiver[e]),s):this.invokeChangedCallback(e,i.writer(i.defaultValue),s)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:t,defaultValue:s,writer:i}of this.valueDescriptors)s!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(t,i(s),void 0)}invokeChangedCallback(e,t,s){let i=`${e}Changed`,n=this.receiver[i];if(typeof n=="function"){let o=this.valueDescriptorNameMap[e];try{let u=o.reader(t),p=s;s&&(p=o.reader(s)),n.call(this.receiver,u,p)}catch(u){throw u instanceof TypeError&&(u.message=`Stimulus Value "${this.context.identifier}.${o.name}" - ${u.message}`),u}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(t=>e[t])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(t=>{let s=this.valueDescriptorMap[t];e[s.name]=s}),e}hasValue(e){let t=this.valueDescriptorNameMap[e],s=`has${ke(t.name)}`;return this.receiver[s]}},ns=class{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new G}start(){this.tokenListObserver||(this.tokenListObserver=new St(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var s;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),(s=this.tokenListObserver)===null||s===void 0||s.pause(()=>this.delegate.targetConnected(e,t)))}disconnectTarget(e,t){var s;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),(s=this.tokenListObserver)===null||s===void 0||s.pause(()=>this.delegate.targetDisconnected(e,t)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function Le(r,e){let t=Wi(r);return Array.from(t.reduce((s,i)=>(xc(i,e).forEach(n=>s.add(n)),s),new Set))}function Lc(r,e){return Wi(r).reduce((s,i)=>(s.push(...Mc(i,e)),s),[])}function Wi(r){let e=[];for(;r;)e.push(r),r=Object.getPrototypeOf(r);return e.reverse()}function xc(r,e){let t=r[e];return Array.isArray(t)?t:[]}function Mc(r,e){let t=r[e];return t?Object.keys(t).map(s=>[s,t[s]]):[]}var os=class{constructor(e,t){this.started=!1,this.context=e,this.delegate=t,this.outletsByName=new G,this.outletElementsByName=new G,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,t,{outletName:s}){let i=this.getOutlet(e,s);i&&this.connectOutlet(i,e,s)}selectorUnmatched(e,t,{outletName:s}){let i=this.getOutletFromMap(e,s);i&&this.disconnectOutlet(i,e,s)}selectorMatchElement(e,{outletName:t}){let s=this.selector(t),i=this.hasOutlet(e,t),n=e.matches(`[${this.schema.controllerAttribute}~=${t}]`);return s?i&&n&&e.matches(s):!1}elementMatchedAttribute(e,t){let s=this.getOutletNameFromOutletAttributeName(t);s&&this.updateSelectorObserverForOutlet(s)}elementAttributeValueChanged(e,t){let s=this.getOutletNameFromOutletAttributeName(t);s&&this.updateSelectorObserverForOutlet(s)}elementUnmatchedAttribute(e,t){let s=this.getOutletNameFromOutletAttributeName(t);s&&this.updateSelectorObserverForOutlet(s)}connectOutlet(e,t,s){var i;this.outletElementsByName.has(s,t)||(this.outletsByName.add(s,e),this.outletElementsByName.add(s,t),(i=this.selectorObserverMap.get(s))===null||i===void 0||i.pause(()=>this.delegate.outletConnected(e,t,s)))}disconnectOutlet(e,t,s){var i;this.outletElementsByName.has(s,t)&&(this.outletsByName.delete(s,e),this.outletElementsByName.delete(s,t),(i=this.selectorObserverMap.get(s))===null||i===void 0||i.pause(()=>this.delegate.outletDisconnected(e,t,s)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let t of this.outletElementsByName.getValuesForKey(e))for(let s of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(s,t,e)}updateSelectorObserverForOutlet(e){let t=this.selectorObserverMap.get(e);t&&(t.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let t=this.selector(e),s=new ts(document.body,t,this,{outletName:e});this.selectorObserverMap.set(e,s),s.start()}setupAttributeObserverForOutlet(e){let t=this.attributeNameForOutletName(e),s=new Et(this.scope.element,t,this);this.attributeObserverMap.set(e,s),s.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(t=>this.attributeNameForOutletName(t)===e)}get outletDependencies(){let e=new G;return this.router.modules.forEach(t=>{let s=t.definition.controllerConstructor;Le(s,"outlets").forEach(n=>e.add(n,t.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(t=>e.includes(t.identifier))}hasOutlet(e,t){return!!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)}getOutlet(e,t){return this.application.getControllerForElementAndIdentifier(e,t)}getOutletFromMap(e,t){return this.outletsByName.getValuesForKey(t).find(s=>s.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},as=class{constructor(e,t){this.logDebugActivity=(s,i={})=>{let{identifier:n,controller:o,element:u}=this;i=Object.assign({identifier:n,controller:o,element:u},i),this.application.logDebugActivity(this.identifier,s,i)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new ss(this,this.dispatcher),this.valueObserver=new is(this,this.controller),this.targetObserver=new ns(this,this),this.outletObserver=new os(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(s){this.handleError(s,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,s={}){let{identifier:i,controller:n,element:o}=this;s=Object.assign({identifier:i,controller:n,element:o},s),this.application.handleError(e,`Error ${t}`,s)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}outletConnected(e,t,s){this.invokeControllerMethod(`${Qr(s)}OutletConnected`,e,t)}outletDisconnected(e,t,s){this.invokeControllerMethod(`${Qr(s)}OutletDisconnected`,e,t)}invokeControllerMethod(e,...t){let s=this.controller;typeof s[e]=="function"&&s[e](...t)}};function Oc(r){return qc(r,Rc(r))}function qc(r,e){let t=Bc(r),s=Pc(r.prototype,e);return Object.defineProperties(t.prototype,s),t}function Rc(r){return Le(r,"blessings").reduce((t,s)=>{let i=s(r);for(let n in i){let o=t[n]||{};t[n]=Object.assign(o,i[n])}return t},{})}function Pc(r,e){return Ic(e).reduce((t,s)=>{let i=Fc(r,e,s);return i&&Object.assign(t,{[s]:i}),t},{})}function Fc(r,e,t){let s=Object.getOwnPropertyDescriptor(r,t);if(!(s&&"value"in s)){let n=Object.getOwnPropertyDescriptor(e,t).value;return s&&(n.get=s.get||n.get,n.set=s.set||n.set),n}}var Ic=typeof Object.getOwnPropertySymbols=="function"?r=>[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)]:Object.getOwnPropertyNames,Bc=(()=>{function r(t){function s(){return Reflect.construct(t,arguments,new.target)}return s.prototype=Object.create(t.prototype,{constructor:{value:s}}),Reflect.setPrototypeOf(s,t),s}function e(){let s=r(function(){this.a.call(this)});return s.prototype.a=function(){},new s}try{return e(),r}catch{return s=>class extends s{}}})();function Dc(r){return{identifier:r.identifier,controllerConstructor:Oc(r.controllerConstructor)}}var ls=class{constructor(e,t){this.application=e,this.definition=Dc(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){let t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new as(this,e),this.contextsByScope.set(e,t)),t}},cs=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let t=this.data.get(this.getDataKey(e))||"";return vc(t)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},us=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){let s=this.getAttributeNameForKey(e);return this.element.setAttribute(s,t),this.get(e)}has(e){let t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){let t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${Ui(e)}`}},hs=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,s){let i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(t)||(i.add(t),this.logger.warn(s,e))}};function ds(r,e){return`[${r}~="${e}"]`}var fs=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,s)=>t||this.findTarget(s)||this.findLegacyTarget(s),void 0)}findAll(...e){return e.reduce((t,s)=>[...t,...this.findAllTargets(s),...this.findAllLegacyTargets(s)],[])}findTarget(e){let t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){let t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){let t=this.schema.targetAttributeForScope(this.identifier);return ds(t,e)}findLegacyTarget(e){let t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){let t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map(s=>this.deprecate(s,e))}getLegacySelectorForTargetName(e){let t=`${this.identifier}.${e}`;return ds(this.schema.targetAttribute,t)}deprecate(e,t){if(e){let{identifier:s}=this,i=this.schema.targetAttribute,n=this.schema.targetAttributeForScope(s);this.guide.warn(e,`target:${t}`,`Please replace ${i}="${s}.${t}" with ${n}="${t}". The ${i} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},ms=class{constructor(e,t){this.scope=e,this.controllerElement=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,s)=>t||this.findOutlet(s),void 0)}findAll(...e){return e.reduce((t,s)=>[...t,...this.findAllOutlets(s)],[])}getSelectorForOutletName(e){let t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)}findOutlet(e){let t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)}findAllOutlets(e){let t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]}findElement(e,t){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,t))[0]}findAllElements(e,t){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,t))}matchesElement(e,t,s){let i=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&i.split(" ").includes(s)}},ps=class r{constructor(e,t,s,i){this.targets=new fs(this),this.classes=new cs(this),this.data=new us(this),this.containsElement=n=>n.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=s,this.guide=new hs(i),this.outlets=new ms(this.documentScope,t)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return ds(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new r(this.schema,document.documentElement,this.identifier,this.guide.logger)}},gs=class{constructor(e,t,s){this.element=e,this.schema=t,this.delegate=s,this.valueListObserver=new At(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:t,content:s}=e;return this.parseValueForElementAndIdentifier(t,s)}parseValueForElementAndIdentifier(e,t){let s=this.fetchScopesByIdentifierForElement(e),i=s.get(t);return i||(i=this.delegate.createScopeForElementAndIdentifier(e,t),s.set(t,i)),i}elementMatchedValue(e,t){let s=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,s),s==1&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){let s=this.scopeReferenceCounts.get(t);s&&(this.scopeReferenceCounts.set(t,s-1),s==1&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}},bs=class{constructor(e){this.application=e,this.scopeObserver=new gs(this.element,this.schema,this),this.scopesByIdentifier=new G,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,t)=>e.concat(t.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let t=new ls(this.application,e);this.connectModule(t);let s=e.controllerConstructor.afterLoad;s&&s.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){let s=this.modulesByIdentifier.get(t);if(s)return s.contexts.find(i=>i.element==e)}proposeToConnectScopeForElementAndIdentifier(e,t){let s=this.scopeObserver.parseValueForElementAndIdentifier(e,t);s?this.scopeObserver.elementMatchedValue(s.element,s):console.error(`Couldn't find or create scope for identifier: "${t}" and element:`,e)}handleError(e,t,s){this.application.handleError(e,t,s)}createScopeForElementAndIdentifier(e,t){return new ps(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(s=>e.connectContextForScope(s))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(s=>e.disconnectContextForScope(s))}},_c={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:r=>`data-${r}-target`,outletAttributeForScope:(r,e)=>`data-${r}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},_i("abcdefghijklmnopqrstuvwxyz".split("").map(r=>[r,r]))),_i("0123456789".split("").map(r=>[r,r])))};function _i(r){return r.reduce((e,[t,s])=>Object.assign(Object.assign({},e),{[t]:s}),{})}var Tt=class{constructor(e=document.documentElement,t=_c){this.logger=console,this.debug=!1,this.logDebugActivity=(s,i,n={})=>{this.debug&&this.logFormattedMessage(s,i,n)},this.element=e,this.schema=t,this.dispatcher=new Xr(this),this.router=new bs(this),this.actionDescriptorFilters=Object.assign({},dc)}static start(e,t){let s=new this(e,t);return s.start(),s}async start(){await Nc(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}registerActionOption(e,t){this.actionDescriptorFilters[e]=t}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(i=>{i.controllerConstructor.shouldLoad&&this.router.loadDefinition(i)})}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(i=>this.router.unloadIdentifier(i))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,t){let s=this.router.getContextForElementAndIdentifier(e,t);return s?s.controller:null}handleError(e,t,s){var i;this.logger.error(`%s

%o

%o`,t,e,s),(i=window.onerror)===null||i===void 0||i.call(window,t,"",0,0,e)}logFormattedMessage(e,t,s={}){s=Object.assign({application:this},s),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},s)),this.logger.groupEnd()}};function Nc(){return new Promise(r=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>r()):r()})}function Hc(r){return Le(r,"classes").reduce((t,s)=>Object.assign(t,jc(s)),{})}function jc(r){return{[`${r}Class`]:{get(){let{classes:e}=this;if(e.has(r))return e.get(r);{let t=e.getAttributeName(r);throw new Error(`Missing attribute "${t}"`)}}},[`${r}Classes`]:{get(){return this.classes.getAll(r)}},[`has${ke(r)}Class`]:{get(){return this.classes.has(r)}}}}function Vc(r){return Le(r,"outlets").reduce((t,s)=>Object.assign(t,$c(s)),{})}function Ni(r,e,t){return r.application.getControllerForElementAndIdentifier(e,t)}function Hi(r,e,t){let s=Ni(r,e,t);if(s||(r.application.router.proposeToConnectScopeForElementAndIdentifier(e,t),s=Ni(r,e,t),s))return s}function $c(r){let e=Qr(r);return{[`${e}Outlet`]:{get(){let t=this.outlets.find(r),s=this.outlets.getSelectorForOutletName(r);if(t){let i=Hi(this,t,r);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${r}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${r}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${s}".`)}},[`${e}Outlets`]:{get(){let t=this.outlets.findAll(r);return t.length>0?t.map(s=>{let i=Hi(this,s,r);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${r}" instance for host controller "${this.identifier}"`,s)}).filter(s=>s):[]}},[`${e}OutletElement`]:{get(){let t=this.outlets.find(r),s=this.outlets.getSelectorForOutletName(r);if(t)return t;throw new Error(`Missing outlet element "${r}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${s}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(r)}},[`has${ke(e)}Outlet`]:{get(){return this.outlets.has(r)}}}}function Uc(r){return Le(r,"targets").reduce((t,s)=>Object.assign(t,zc(s)),{})}function zc(r){return{[`${r}Target`]:{get(){let e=this.targets.find(r);if(e)return e;throw new Error(`Missing target element "${r}" for "${this.identifier}" controller`)}},[`${r}Targets`]:{get(){return this.targets.findAll(r)}},[`has${ke(r)}Target`]:{get(){return this.targets.has(r)}}}}function Wc(r){let e=Lc(r,"values"),t={valueDescriptorMap:{get(){return e.reduce((s,i)=>{let n=Ki(i,this.identifier),o=this.data.getAttributeNameForKey(n.key);return Object.assign(s,{[o]:n})},{})}}};return e.reduce((s,i)=>Object.assign(s,Kc(i)),t)}function Kc(r,e){let t=Ki(r,e),{key:s,name:i,reader:n,writer:o}=t;return{[i]:{get(){let u=this.data.get(s);return u!==null?n(u):t.defaultValue},set(u){u===void 0?this.data.delete(s):this.data.set(s,o(u))}},[`has${ke(i)}`]:{get(){return this.data.has(s)||t.hasCustomDefaultValue}}}}function Ki([r,e],t){return Qc({controller:t,token:r,typeDefinition:e})}function Ct(r){switch(r){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function Ce(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(r))return"array";if(Object.prototype.toString.call(r)==="[object Object]")return"object"}function Gc(r){let{controller:e,token:t,typeObject:s}=r,i=Ii(s.type),n=Ii(s.default),o=i&&n,u=i&&!n,p=!i&&n,A=Ct(s.type),k=Ce(r.typeObject.default);if(u)return A;if(p)return k;if(A!==k){let x=e?`${e}.${t}`:t;throw new Error(`The specified default value for the Stimulus Value "${x}" must match the defined type "${A}". The provided default value of "${s.default}" is of type "${k}".`)}if(o)return A}function Jc(r){let{controller:e,token:t,typeDefinition:s}=r,n=Gc({controller:e,token:t,typeObject:s}),o=Ce(s),u=Ct(s),p=n||o||u;if(p)return p;let A=e?`${e}.${s}`:t;throw new Error(`Unknown value type "${A}" for "${t}" value`)}function Xc(r){let e=Ct(r);if(e)return ji[e];let t=Zr(r,"default"),s=Zr(r,"type"),i=r;if(t)return i.default;if(s){let{type:n}=i,o=Ct(n);if(o)return ji[o]}return r}function Qc(r){let{token:e,typeDefinition:t}=r,s=`${Ui(e)}-value`,i=Jc(r);return{type:i,key:s,name:vs(s),get defaultValue(){return Xc(t)},get hasCustomDefaultValue(){return Ce(t)!==void 0},reader:Zc[i],writer:Vi[i]||Vi.default}}var ji={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Zc={array(r){let e=JSON.parse(r);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${r}" of type "${Ce(e)}"`);return e},boolean(r){return!(r=="0"||String(r).toLowerCase()=="false")},number(r){return Number(r.replace(/_/g,""))},object(r){let e=JSON.parse(r);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${r}" of type "${Ce(e)}"`);return e},string(r){return r}},Vi={default:Yc,array:$i,object:$i};function $i(r){return JSON.stringify(r)}function Yc(r){return`${r}`}var S=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:s={},prefix:i=this.identifier,bubbles:n=!0,cancelable:o=!0}={}){let u=i?`${i}:${e}`:e,p=new CustomEvent(u,{detail:s,bubbles:n,cancelable:o});return t.dispatchEvent(p),p}};S.blessings=[Hc,Uc,Wc,Vc];S.targets=[];S.outlets=[];S.values={};var kt=class extends S{static values={mode:String,timeout:Number};static get targets(){return["actionButton"]}connect(){if(this.modeValue==="timeout"){let r;this.hasTimeoutValue?r=this.timeoutValue:r=500,window.setTimeout(()=>{this.submit()},r)}}submit(){this.element.submit(),this.hasActionButtonTarget&&(this.actionButtonTarget.disabled=!0)}};var Lt=class extends S{initialize(){this.namespace="autosave:"+this.element.action}connect(){let r=this.loadData(this.namespace);Object.entries(r).forEach(([e,t])=>{let s=this.element.querySelector(`[name="${e}"]`);s&&(s.value=t)})}save(r){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{let e=this.loadData(this.namespace);e[r.target.name]=r.target.value,window.localStorage.setItem(this.namespace,JSON.stringify(e))},300)}loadData(r){let e=window.localStorage.getItem(r),t={};try{t=JSON.parse(e)}catch{return{}}return typeof t!="object"||Array.isArray(t)||t===null?{}:t}clear(){window.localStorage.removeItem(this.namespace)}};function _(r){let e=window.jsConfiguration.l10n[r];return e||r}function J(r){let e=window.jsConfiguration.icons[r];return e||""}var xt=class extends S{static values={title:String,reset:Boolean,track:Boolean};static targets=["button"];initialize(){let r=this.getBackHistory();if(this.resetValue&&(r=[]),this.trackValue&&window.location.pathname!=="/about/new"){let s=window.location.pathname+window.location.search;this.pushPathToHistory(r,s)}window.localStorage.setItem("back-history",JSON.stringify(r));let e=r.length-(this.trackValue?2:1),t=r[e];t?(this.buttonTarget.href=t.path,this.buttonTarget.innerHTML=`${J("back")} ${_("Back")} (${t.title})`):this.element.remove()}handleClick(r){let e=this.getBackHistory(),t=r.target.pathname+r.target.search;this.popHistoryUntilPath(e,t),window.localStorage.setItem("back-history",JSON.stringify(e))}handlePopstate(r){if(r.state){let e=this.getBackHistory(),t=window.location.pathname+window.location.search;e.some(s=>s.path===t)&&(this.popHistoryUntilPath(e,t),window.localStorage.setItem("back-history",JSON.stringify(e)))}}popHistoryUntilPath(r,e){for(;r.length>0;){let t=r.pop();if(t.path===e){r.push(t);break}}}pushPathToHistory(r,e){(r.length===0||r[r.length-1].path!==e)&&r.push({title:this.titleValue,path:e})}getBackHistory(){let r=window.localStorage.getItem("back-history");return r?JSON.parse(r):[]}};var Mt=class extends S{static get targets(){return["switch","caption"]}connect(){this.switch()}switch(){let r=this.switchTargets.find(e=>e.checked);if(r){let e=r.value;this.captionTargets.forEach(t=>{t.hidden=t.dataset.captionValue!==e})}else this.captionTargets.forEach(e=>{e.hidden=e.dataset.captionUnchecked==null})}};var Ra=X(Qi(),1),Pa=X(N(),1),Fa=X(ma(),1),Ia=X(ga(),1),Ba=X(Ca(),1),Da=X(La(),1),_a=X(Ma(),1),Na=X(qa(),1);var Ef=(0,Pa.default)("((#{validUrlPrecedingChars})(https?:\\/\\/)(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?)",{validUrlPrecedingChars:Da.default,validDomain:Fa.default,validPortNumber:Ia.default,validUrlPath:Ba.default,validUrlQueryChars:_a.default,validUrlQueryEndingChars:Na.default},"gi"),Sf="$2xxxxxxxxxxxxxxxxxxxxxxx",Xt=class extends S{static targets=["source","counter"];static values={max:Number};connect(){this.updateCounter()}updateCounter(){let r=this.countCharacters(this.sourceTarget.value),e=_("{{count}} characters out of a maximum of {{max}}");e=e.replace("{{count}}",r),e=e.replace("{{max}}",this.maxValue),this.counterTarget.ariaLabel=e,r>this.maxValue?(this.counterTarget.innerHTML=`${r}&nbsp;/&nbsp;${this.maxValue}&nbsp;${J("error")}`,this.counterTarget.classList.add("counter--over"),this.sourceTarget.setCustomValidity(_("The post is too long.")),this.sourceTarget.ariaInvalid="true"):(this.counterTarget.innerHTML=`${r}&nbsp;/&nbsp;${this.maxValue}`,this.counterTarget.classList.remove("counter--over"),this.sourceTarget.setCustomValidity(""),this.sourceTarget.ariaInvalid=null)}countCharacters(r){let e=r;return e=e.replace(Ef,Sf),e=e.replace(/(^|[^/\w])@(([a-z0-9_]+)@[a-z0-9.-]+[a-z0-9]+)/ig,"$1@$3"),(0,Ra.length)(e)}};var Qt=class extends S{static get targets(){return["dataCollections","dataNewCollections","selectGroup","inputGroup","collectionCards","select","input","collectionTemplate"]}connect(){this.inputTarget.addEventListener("keydown",this.trapEscape.bind(this)),this.inputTarget.addEventListener("keydown",this.trapEnter.bind(this)),this.refreshList(),this.refreshSelect()}refreshList(){this.collectionCardsTarget.innerHTML="";for(let r of this.dataCollectionsTarget.selectedOptions)this.collectionCardsTarget.appendChild(this.collectionNode(r.value,{name:r.text,imageFilename:r.dataset.illustration,isPublic:"public"in r.dataset,by:r.dataset.by},!1));for(let r of this.dataNewCollectionsTarget.children)this.collectionCardsTarget.appendChild(this.collectionNode(r.value,{name:r.value,imageFilename:"",isPublic:!1,by:null},!0))}refreshSelect(){this.selectTarget.innerHTML="";let r=document.createElement("option");r.text=_("Open the list"),r.disabled=!0,r.selected=!0,this.selectTarget.add(r);let e=this.dataCollectionsTarget.querySelectorAll("select > option");for(let s of e)if(!s.selected){let i=document.createElement("option");i.value=s.value,i.text=s.text,"public"in s.dataset&&(i.text+=_(" (public)")),this.selectTarget.add(i)}let t=this.dataCollectionsTarget.querySelectorAll("select > optgroup");for(let s of t){let i=document.createElement("optgroup");i.label=s.label;let n=!0,o=s.querySelectorAll("optgroup > option");for(let u of o)if(!u.selected){let p=document.createElement("option");p.value=u.value,p.text=u.text,"by"in u.dataset&&(p.text+=` (${u.dataset.by})`),"public"in u.dataset&&(p.text+=_(" (public)")),i.append(p),n=!1}n||this.selectTarget.add(i)}this.selectTarget.options.length===1?this.selectTarget.disabled=!0:this.selectTarget.disabled=!1,this.dataCollectionsTarget.selectedOptions.length===0?this.selectTarget.required=this.dataCollectionsTarget.required:this.selectTarget.required=!1}showInput(){this.inputGroupTarget.hidden=!1,this.selectGroupTarget.hidden=!0,this.inputTarget.focus()}showSelect(){this.selectGroupTarget.hidden=!1,this.inputGroupTarget.hidden=!0,this.selectTarget.focus()}setFocus(){this.selectGroupTarget.hidden?this.inputTarget.focus():this.selectTarget.focus()}attach(r){if(r.preventDefault(),this.selectGroupTarget.hidden){let e=this.inputTarget.value;if(e!==""){let t=document.createElement("input");t.type="hidden",t.name="new_collection_names[]",t.value=e,this.dataNewCollectionsTarget.append(t)}this.inputTarget.value=""}else{let e=r.target.value;for(let t of this.dataCollectionsTarget.options)if(t.value===e){t.selected=!0,this.refreshSelect();break}}this.refreshList(),this.setFocus()}detach(r){r.preventDefault();let e=r.currentTarget.getAttribute("data-value");if(r.currentTarget.getAttribute("data-is-new")==="true"){for(let s of this.dataNewCollectionsTarget.children)if(s.value===e){s.remove();break}}else for(let s of this.dataCollectionsTarget.selectedOptions)if(s.value===e){s.selected=!1,this.refreshSelect();break}this.refreshList(),this.setFocus()}trapEscape(r){r.key==="Escape"&&(r.stopPropagation(),r.preventDefault(),this.showSelect())}trapEnter(r){r.key==="Enter"&&(r.preventDefault(),this.attach(r))}collectionNode(r,e,t){let s=this.collectionTemplateTarget.content.firstElementChild.cloneNode(!0);s.querySelector('[data-target="name"]').textContent=e.name,e.imageFilename&&(s.style.backgroundImage=`url('${e.imageFilename}')`),e.by&&(s.querySelector('[data-target="by"]').textContent=e.by),e.isPublic||s.querySelector('[data-target="isPublic"]').remove(),t||s.querySelector('[data-target="isNew"]').remove();let i=s.querySelector('[data-target="unselect"]');return i.setAttribute("data-value",r),i.setAttribute("data-is-new",t),s}};var Zt=class extends S{static get targets(){return["copyable","feedback"]}copy(){let r;this.copyableTarget.hasAttribute("value")?r=this.copyableTarget.getAttribute("value").trim():r=this.copyableTarget.textContent.trim(),navigator.clipboard.writeText(r);let e=this.feedbackTarget.innerHTML;this.feedbackTarget.innerHTML=J("check")+" "+_("Copied"),setTimeout(()=>{this.feedbackTarget.innerHTML=e},2e3)}};var Yt=class extends S{static values={name:String,token:String};connect(){let r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",this.nameValue),r.setAttribute("value",this.tokenValue),this.element.appendChild(r)}};var er=class extends S{static get targets(){return["file"]}openFile(){this.fileTarget.click()}};var tr=class extends S{static get targets(){return["groupInput","groupSelect","input","select"]}connect(){this.selectTarget.options.length===1&&this.showInput()}showInput(){this.inputTarget.name="name",this.selectTarget.name="",this.groupInputTarget.style.display="block",this.groupSelectTarget.style.display="none",this.inputTarget.focus()}};var rr=class extends S{static get targets(){return["input","button"]}connect(){let r=this.element.querySelector(".js-only");r&&r.classList.remove("js-only")}toggle(){this.inputTarget.type==="password"?(this.inputTarget.type="text",this.buttonTarget.innerHTML=J("eye-hide")+" "+_("Hide")):(this.inputTarget.type="password",this.buttonTarget.innerHTML=J("eye")+" "+_("Show"))}};var sr=class extends S{static targets=["container","prototype"];static values={index:Number};connect(){this.refreshLabels()}addItem(){let r=this.prototypeTarget.content.firstElementChild.cloneNode(!0);r.innerHTML=r.innerHTML.replace(/__index__/g,this.indexValue),this.containerTarget.appendChild(r),this.indexValue++,this.refreshLabels();let e=Array.from(r.querySelectorAll("textarea"));e.length>=1&&e[0].focus()}removeItem(r){r.target.closest('[data-items-target="item"]').remove(),this.refreshLabels()}refreshLabels(){this.containerTarget.querySelectorAll("[aria-label]").forEach((e,t)=>{let s=e.dataset.labelPattern;s||(s=e.ariaLabel,e.dataset.labelPattern=s),e.ariaLabel=s.replace(/__number__/,t+1)})}};var ir=class extends S{static get targets(){return["input","message"]}static values={url:String};change(){this.inputTarget.value=this.urlValue,this.messageTarget.hidden=!0,this.inputTarget.focus()}};var Af=['a[href]:not([tabindex="-1"])','button:not([disabled]):not([tabindex="-1"])','input:not([disabled]):not([type="hidden"]):not([tabindex="-1"])','select:not([disabled]):not([tabindex="-1"])','textarea:not([disabled]):not([tabindex="-1"])','[tabindex]:not([tabindex="-1"])'],nr=class extends S{static values={autoload:String};static get targets(){return["box","body","content"]}connect(){if(this.contentTarget.setAttribute("id","modal-content"),this.element.addEventListener("open-modal",this.open.bind(this)),this.element.addEventListener("keydown",this.trapEscape.bind(this)),this.element.addEventListener("keydown",this.trapFocus.bind(this)),document.documentElement.addEventListener("turbo:frame-render",r=>{r.target===this.contentTarget&&(this.setFocus(),this.boxTarget.scrollIntoView(!0))}),this.autoloadValue){let r=new CustomEvent("open-modal",{detail:{target:this.element,href:this.autoloadValue}});this.element.dispatchEvent(r)}}setFocus(){let r=Array.from(this.boxTarget.querySelectorAll(Af));this.firstFocusableElement=r[0];for(let t=r.length-1;t>=0;t--){let s=r[t];if(s.focus(),document.activeElement===s){this.lastFocusableElement=s;break}}r.length>1&&r.shift();let e=!1;for(let t of r)if(t.focus(),document.activeElement===t){e=!0;break}e||this.firstFocusableElement.focus()}open(r){let e=document.getElementById("layout");this.element.setAttribute("aria-hidden",!1),e.setAttribute("aria-hidden",!0),document.body.classList.add("modal-opened"),this.contentTarget.setAttribute("src",r.detail.href),this.focusBackElement=r.detail.target}closeOnMask(r){r.target.id==="modal"&&this.close(r)}close(r){r.preventDefault();let e=document.getElementById("layout");this.element.setAttribute("aria-hidden",!0),e.setAttribute("aria-hidden",!1),document.body.classList.remove("modal-opened"),setTimeout(()=>{this.contentTarget.setAttribute("src",""),this.contentTarget.innerHTML='<div class="spinner"></div>'},300),this.focusBackElement&&(this.focusBackElement.focus(),this.focusBackElement=null)}trapEscape(r){r.key==="Escape"&&this.close(r)}trapFocus(r){r.key==="Tab"&&(r.target===this.firstFocusableElement&&r.shiftKey?(r.preventDefault(),this.lastFocusableElement.focus()):r.target===this.lastFocusableElement&&!r.shiftKey&&(r.preventDefault(),this.firstFocusableElement.focus()))}};var or=class extends S{static values={href:String};fetch(r){r.preventDefault();let e=document.getElementById("modal"),t=new CustomEvent("open-modal",{detail:{target:this.element,href:this.hrefValue}});e.dispatchEvent(t)}};var ar=class extends S{static values={url:String};static get targets(){return["button"]}connect(){this.checkAvailableNews(),setInterval(this.checkAvailableNews.bind(this),300*1e3)}async checkAvailableNews(){(await(await fetch(this.urlValue)).json()).available?this.buttonTarget.classList.add("button--primary"):this.buttonTarget.classList.remove("button--primary")}};var lr=class extends S{connect(){let r=this.element.querySelector("summary");r&&(r.setAttribute("aria-haspopup","menu"),r.setAttribute("aria-expanded",this.element.open))}update(){let r=this.element.querySelector("summary");r&&r.setAttribute("aria-expanded",this.element.open)}closeOnClickOutside(r){this.element.contains(r.target)||this.element.open&&(this.element.open=!1)}closeOnEscape(r){if(r.key!=="Escape"||!this.element.open)return;this.element.open=!1;let e=this.element.querySelector("summary");e&&e.focus()}};var cr=class extends S{connect(){this.element.style.overflowY="hidden",this.element.style.resize="none",this.refresh()}refresh(){this.element.style.height="auto",this.element.style.height=this.element.scrollHeight+"px"}};var ur=class extends S{static get targets(){return["item"]}connect(){let e=this.itemTargets.length;this.itemTargets.forEach((t,s)=>{t.style.zIndex=10+e-s})}};window.jsConfiguration=JSON.parse(document.getElementById("javascript-configuration").innerHTML);var P=Tt.start();P.register("autosubmit",kt);P.register("autosave",Lt);P.register("back-button",xt);P.register("caption-switcher",Mt);P.register("characters-counter",Xt);P.register("collections-selector",Qt);P.register("copy-to-clipboard",Zt);P.register("csrf",Yt);P.register("form-file",er);P.register("group-selector",tr);P.register("input-password",rr);P.register("items",sr);P.register("link-suggestion",ir);P.register("modal",nr);P.register("modal-opener",or);P.register("news-refresher",ar);P.register("popup",lr);P.register("text-editor",cr);P.register("zindex-inverser",ur);function Tf(){let r=document.querySelector(".layout__content");if(!r)return;r.offsetTop+r.clientHeight>=document.body.clientHeight&&r.classList.add("layout__content--touch-bottom")}document.addEventListener("turbo:load",Tf);document.addEventListener("turbo:frame-missing",r=>{r.preventDefault(),r.detail.visit(r.detail.response)});var ri=!1;document.addEventListener("turbo:submit-start",r=>{r.detail.formSubmission.formElement.hasAttribute("data-turbo-preserve-scroll")&&(ri=!0)});document.addEventListener("turbo:before-render",()=>{ri&&(Gr.currentVisit.scrolled=!0,ri=!1)});})();
/*! Bundled license information:

@hotwired/turbo/dist/turbo.es2017-esm.js:
  (*!
  Turbo 8.0.19
  Copyright © 2025 37signals LLC
   *)
*/
//# sourceMappingURL=application.js.map
